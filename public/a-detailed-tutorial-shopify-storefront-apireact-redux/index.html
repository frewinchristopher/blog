<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.625 -apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:normal;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}h1{margin-left:0;margin-right:0;margin-top:2.4375rem;padding-bottom:calc(0.40625rem - 1px);padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.21875rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;border-bottom:1px solid hsla(0,0%,0%,0.07);}h2{margin-left:0;margin-right:0;margin-top:1.625rem;padding-bottom:calc(0.40625rem - 1px);padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.40625rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;border-bottom:1px solid hsla(0,0%,0%,0.07);}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:hsla(0,0%,0%,0.53);font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}ul{margin-left:1.625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;font-size:0.85rem;line-height:1.625rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;font-size:1rem;line-height:1.625rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}blockquote{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:calc(0.8125rem - 1px);padding-right:0;padding-top:0;margin-bottom:0.8125rem;border-left:4px solid hsla(0,0%,0%,0.13);color:hsla(0,0%,0%,0.53);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(0.8125rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}b{font-weight:600;}strong{font-weight:600;}dt{font-weight:600;}th{font-weight:600;}li{margin-bottom:calc(0.8125rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.625rem;margin-bottom:calc(0.8125rem / 2);margin-top:calc(0.8125rem / 2);}li > ul{margin-left:1.625rem;margin-bottom:calc(0.8125rem / 2);margin-top:calc(0.8125rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(0.8125rem / 2);}code{font-size:0.85rem;line-height:1.625rem;}kbd{font-size:0.85rem;line-height:1.625rem;}samp{font-size:0.85rem;line-height:1.625rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.08333rem;padding-right:1.08333rem;padding-top:0.8125rem;padding-bottom:calc(0.8125rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}h3,h4,h5,h6{margin-bottom:0.8125rem;margin-top:1.625rem;}ol,ul{margin-left:2.03125rem;}li>ol,li>ul{margin-left:2.03125rem;}a{color:#4078c0;text-decoration:none;}a:hover,a:active{text-decoration:underline;}</style><meta data-react-helmet="true" name="description" content="A Detailed Tutorial - Shopify&#x27;s Storefront API + React + Redux"/><style type="text/css">.gatsby-resp-image-image{width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;color:transparent;}</style><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#000000"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png"/><title data-react-helmet="true">A Detailed Tutorial - Shopify&#x27;s Storefront API + React + Redux | Chris&#x27; Full Stack Blog</title><meta name="generator" content="Gatsby 2.18.12"/><meta data-react-helmet="true" property="og:title" content="A Detailed Tutorial - Shopify&#x27;s Storefront API + React + Redux"/><meta data-react-helmet="true" property="og:description" content="A Detailed Tutorial - Shopify&#x27;s Storefront API + React + Redux"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="Chris Frewin"/><meta data-react-helmet="true" name="twitter:title" content="A Detailed Tutorial - Shopify&#x27;s Storefront API + React + Redux"/><meta data-react-helmet="true" name="twitter:description" content="A Detailed Tutorial - Shopify&#x27;s Storefront API + React + Redux"/><style data-href="/styles.053af9e80477c975aa55.css">@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:100;src:local("Montserrat Thin "),local("Montserrat-Thin"),url(/static/montserrat-latin-100-191cc9f50f3b76b9617cb383f19acb7d.woff2) format("woff2"),url(/static/montserrat-latin-100-370318464551d5f25b0f0a78f374faac.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:100;src:local("Montserrat Thin italic"),local("Montserrat-Thinitalic"),url(/static/montserrat-latin-100italic-bdeaeb79db315697bd173a55b097dc18.woff2) format("woff2"),url(/static/montserrat-latin-100italic-ecf7d49386e8f265878e735db34a7c4b.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:200;src:local("Montserrat Extra Light "),local("Montserrat-Extra Light"),url(/static/montserrat-latin-200-85d5ef9db7f2dc6979172a4a3b2c57cb.woff2) format("woff2"),url(/static/montserrat-latin-200-1fc98e126a3d152549240e6244d7e669.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:200;src:local("Montserrat Extra Light italic"),local("Montserrat-Extra Lightitalic"),url(/static/montserrat-latin-200italic-49095760a498d024fe1a85a078850df9.woff2) format("woff2"),url(/static/montserrat-latin-200italic-fe46cf8b9462c820457d3bf537e4057f.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:300;src:local("Montserrat Light "),local("Montserrat-Light"),url(/static/montserrat-latin-300-7c3daf12b706645b5d3710f863a4da04.woff2) format("woff2"),url(/static/montserrat-latin-300-8dc95fab9cf98d02ca8d76e97d3dff60.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:300;src:local("Montserrat Light italic"),local("Montserrat-Lightitalic"),url(/static/montserrat-latin-300italic-f20b178ca2024a5eac8e42e6649db86c.woff2) format("woff2"),url(/static/montserrat-latin-300italic-3fe16939288856e8e828fa2661bf2354.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:400;src:local("Montserrat Regular "),local("Montserrat-Regular"),url(/static/montserrat-latin-400-bc3aa95dca08f5fee5291e34959c27bc.woff2) format("woff2"),url(/static/montserrat-latin-400-8102c4838f9e3d08dad644290a9cb701.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:400;src:local("Montserrat Regular italic"),local("Montserrat-Regularitalic"),url(/static/montserrat-latin-400italic-5cad650422a7184467af5a4d17b264c4.woff2) format("woff2"),url(/static/montserrat-latin-400italic-d191f22af3bb50902b99ac577f81a322.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:500;src:local("Montserrat Medium "),local("Montserrat-Medium"),url(/static/montserrat-latin-500-92d16e458625f4d2c8940f6bdca0ff09.woff2) format("woff2"),url(/static/montserrat-latin-500-8b763220218ffc11c57c84ddb80e7b26.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:500;src:local("Montserrat Medium italic"),local("Montserrat-Mediumitalic"),url(/static/montserrat-latin-500italic-47bfcca6b69d6a9acca7a8bff17193e2.woff2) format("woff2"),url(/static/montserrat-latin-500italic-72c01f753c3940c0b9cb6bf2389caddf.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:600;src:local("Montserrat SemiBold "),local("Montserrat-SemiBold"),url(/static/montserrat-latin-600-6fb1b5623e528e27c18658fecf5ee0ee.woff2) format("woff2"),url(/static/montserrat-latin-600-7c839d15a6f54e7025ba8c0c4b333e8f.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:600;src:local("Montserrat SemiBold italic"),local("Montserrat-SemiBolditalic"),url(/static/montserrat-latin-600italic-60789af1c9338ed1a9546722ec54b4f7.woff2) format("woff2"),url(/static/montserrat-latin-600italic-f3d4de8d0afb19e777c79032ce828e3d.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:700;src:local("Montserrat Bold "),local("Montserrat-Bold"),url(/static/montserrat-latin-700-39d93cf678c740f9f6b2b1cfde34bee3.woff2) format("woff2"),url(/static/montserrat-latin-700-80f10bd382f0df1cd650fec59f3c9394.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:700;src:local("Montserrat Bold italic"),local("Montserrat-Bolditalic"),url(/static/montserrat-latin-700italic-ba136d97b14e82284dd595e257f11c47.woff2) format("woff2"),url(/static/montserrat-latin-700italic-8c98142b425630821139c24bd1698700.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:800;src:local("Montserrat ExtraBold "),local("Montserrat-ExtraBold"),url(/static/montserrat-latin-800-b7018be9ed6cd94da8b6675b3a468c3b.woff2) format("woff2"),url(/static/montserrat-latin-800-9a9befcf50d64f9d2d19d8b1d1984add.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:800;src:local("Montserrat ExtraBold italic"),local("Montserrat-ExtraBolditalic"),url(/static/montserrat-latin-800italic-540ffdd223d1a9ad3d4e678e1a23372e.woff2) format("woff2"),url(/static/montserrat-latin-800italic-897086f99f4e1f45e6b1e9368527d0bc.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:900;src:local("Montserrat Black "),local("Montserrat-Black"),url(/static/montserrat-latin-900-58cd789700850375b834e8b6776002eb.woff2) format("woff2"),url(/static/montserrat-latin-900-26d42c9428780e545a540bbb50c84bce.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:900;src:local("Montserrat Black italic"),local("Montserrat-Blackitalic"),url(/static/montserrat-latin-900italic-451157bc8861fe54f523b3669a3def71.woff2) format("woff2"),url(/static/montserrat-latin-900italic-a8ec4957e1c24f5793305763ad9845b3.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:300;src:local("Merriweather Light "),local("Merriweather-Light"),url(/static/merriweather-latin-300-b1158cfcd4aacb9d8fb61625e37af46a.woff2) format("woff2"),url(/static/merriweather-latin-300-cc7de05e166e90320d7d896e0f72a19d.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:300;src:local("Merriweather Light italic"),local("Merriweather-Lightitalic"),url(/static/merriweather-latin-300italic-8fe52a48089d6ebe46db0b8e7cc66263.woff2) format("woff2"),url(/static/merriweather-latin-300italic-e1331f5397c2a673f9d3765138debdb5.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:400;src:local("Merriweather Regular "),local("Merriweather-Regular"),url(/static/merriweather-latin-400-8276fdb72ae8f4714d4e6eba704cc39f.woff2) format("woff2"),url(/static/merriweather-latin-400-69f09800f4f6479d06e44eba837df872.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:400;src:local("Merriweather Regular italic"),local("Merriweather-Regularitalic"),url(/static/merriweather-latin-400italic-3a9be9ea9f7aa4af6de7307df21d9fc0.woff2) format("woff2"),url(/static/merriweather-latin-400italic-d76079ed7541a433a54f79316de086e9.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:700;src:local("Merriweather Bold "),local("Merriweather-Bold"),url(/static/merriweather-latin-700-fa534be7ffa380e39a7f6e03bf9a5e03.woff2) format("woff2"),url(/static/merriweather-latin-700-ba56ea84b8084b7ff9677f50d3cd81bd.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:700;src:local("Merriweather Bold italic"),local("Merriweather-Bolditalic"),url(/static/merriweather-latin-700italic-1ef5edaaa20ae53ea50399884c5e48c6.woff2) format("woff2"),url(/static/merriweather-latin-700italic-534bc9e7ce93c73d73426e46acd78092.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:900;src:local("Merriweather Black "),local("Merriweather-Black"),url(/static/merriweather-latin-900-7528fb70e8a4a82c7305e72ff43ac25f.woff2) format("woff2"),url(/static/merriweather-latin-900-3799b6e2f5ed3fcccf9d7a708d7419fa.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:900;src:local("Merriweather Black italic"),local("Merriweather-Blackitalic"),url(/static/merriweather-latin-900italic-e1b4d2aaa78e12ad84aaf8a56321e4c2.woff2) format("woff2"),url(/static/merriweather-latin-900italic-2ae22f731b3424e8dbb4b37f7ca6e708.woff) format("woff")}code[class*=language-],pre[class*=language-]{color:#000;text-shadow:0 1px #fff}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}.token.punctuation{color:#999}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#f8f8f2}.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}body,html{background-color:transparent;color:#fff}header,main{pointer-events:none}header{z-index:20;position:relative}footer{margin-top:6rem}footer,main{position:relative;z-index:10}a{color:#f92672;z-index:10;pointer-events:all}canvas{pointer-events:all}.canvas-mask,canvas{height:100vh;top:0;left:0;width:100vw;position:fixed}.canvas-mask{pointer-events:none;background-color:rgba(0,0,0,.5);z-index:1}.background-mask{pointer-events:none;background-color:#000;height:100vh;top:0;left:0;width:100vw;position:fixed}.twentytwenty-fun{display:inline-block;position:relative;font-size:.75rem;font-family:Courier New,Courier,monospace;-webkit-animation:hover 2s ease-in-out infinite alternate;animation:hover 2s ease-in-out infinite alternate;line-height:.75rem;text-align:center}h1{border-bottom:none}@-webkit-keyframes hover{0%{-webkit-transform:translateY(-10%);transform:translateY(-10%);-webkit-transform:translateX(-10%);transform:translateX(-10%);-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:translateY(10%);transform:translateY(10%);-webkit-transform:translateX(10%);transform:translateX(10%);-webkit-transform:rotate(30deg);transform:rotate(30deg)}}@keyframes hover{0%{-webkit-transform:translateY(-10%);transform:translateY(-10%);-webkit-transform:translateX(-10%);transform:translateX(-10%);-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:translateY(10%);transform:translateY(10%);-webkit-transform:translateX(10%);transform:translateX(10%);-webkit-transform:rotate(30deg);transform:rotate(30deg)}}</style><link as="script" rel="preload" href="/component---src-templates-blog-post-js-2642abeb110b544c12ef.js"/><link as="script" rel="preload" href="/commons-aacedbba520b31cce423.js"/><link as="script" rel="preload" href="/app-4c82f1120542748bc39c.js"/><link as="script" rel="preload" href="/styles-5d031bf83756cf4dd9d4.js"/><link as="script" rel="preload" href="/webpack-runtime-4cd14b33a27ff34dca30.js"/><link as="fetch" rel="preload" href="/page-data/a-detailed-tutorial-shopify-storefront-apireact-redux/page-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><div style="margin-left:auto;margin-right:auto;max-width:39rem;padding:2.4375rem 1.21875rem"><header><h3 style="font-family:Montserrat, sans-serif;margin-top:0"><a style="box-shadow:none;text-decoration:none;color:inherit" href="/">Chris&#x27; Full Stack Blog</a></h3></header><main><article><header><h1 style="margin-top:1.625rem;margin-bottom:0">A Detailed Tutorial - Shopify&#x27;s Storefront API + React + Redux</h1><p style="font-size:0.87055rem;line-height:1.625rem;display:block;margin-bottom:1.625rem">November 07, 2018</p></header><section><p><em>Originally published on the <a href="https://medium.com/siren-apparel-press/adding-shopifys-storefront-api-to-an-existing-react-app-with-react-redux-ea442bd7543">Siren Apparel Press on Medium</a></em></p>
<h1>A Detailed Tutorial: Shopify’s Storefront API + React + Redux</h1>
<h2>E-commerce for all! (…websites, that is 😄)</h2>
<p><em>Written by *<a href="https://medium.com/@frewin.christopher">Chris</a></em> on Wednesday,
August 22nd, 2018*</p>
<p><img src="https://cdn-images-1.medium.com/max/2000/1*HU6qT6c4a54QX-mnuPMj7w.jpeg">
<span class="figcaption_hack">Siren Apparel’s flagship shirt — Hydrant Removal.</span></p>
<h4>Background and Motivation</h4>
<p>So the motivation here was pretty simple. I wanted my users to be able to
browse, search, and select products directly on my custom domain without having
to go to Shopify.</p>
<p>The secondary motivation is that I’d much rather have my own codebase for a
website than use one of Shopify’s factory templates. No offence Shopify team!
The templates are modern and clean, but they are rather basic.</p>
<p>So this is the best of both worlds — my custom React site (already built and
online 😄), with the added API and checkout process of Shopify!</p>
<p>By the end of this tutorial, you’ll be able to add your Shopify products on
<em>any</em> page of your site. The only part of the shopping process that will occur
on Shopify is when the user clicks ‘Checkout’.</p>
<p>The motivation specifically for writing here on Medium was simply that I
couldn’t find a tutorial on this process myself— so I decided to make one
myself!</p>
<p>I’ve been a professional developer for 4 years now, and programming for 7. I’ve
worked in tech stacks from old-school Fortran and Perl to React, Javascript, and
Nodejs.</p>
<p>Siren Apparel is one of my side project / startup / maker company that I’ve run
for 5 years now, and we’ve donated to 5 different police and fire departments.</p>
<p>Let’s finally get started with this tutorial.</p>
<h4>Shopify’s Storefront API</h4>
<p>The wonderful folks at Shopify have put together the <a href="https://help.shopify.com/en/api/custom-storefronts/storefront-api">Storefront
API</a>. With
the Storefront API, you can create React components to add product pictures,
product variations, product sizes, a cart, and ‘add to cart’ and ‘checkout’
buttons into your own, non-Shopify site.</p>
<p>Note that this tutorial is NOT about <a href="https://github.com/Shopify/polaris">Shopify
Polaris</a>, which is used to create components
in React for Shopify store management itself.</p>
<h4>Getting Started: <code class="language-text">react-js-buy</code> Repository</h4>
<p>Take a look at <a href="https://github.com/Shopify/storefront-api-examples/tree/master/react-js-buy">this React example built by the Shopify
team</a>.
Most of the code in this walkthrough tutorial comes from that repository.</p>
<p>…Did you take a look? Good!</p>
<p>Now we’re going to hop right into code! Head to your React site’s root folder
and install the <code class="language-text">shopify-buy</code> module via the terminal:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token builtin class-name">cd</span> my-awesome-react-node-project/
<span class="token function">npm</span> <span class="token function">install</span> --save shopify-buy</code></pre></div>
<p>(or <code class="language-text">yarn add shopify-buy</code> if you prefer <code class="language-text">yarn</code>)</p>
<p>Then, in your frontend <code class="language-text">index.js</code>, (note: NOT <code class="language-text">App.js</code>!) you will need to import
<code class="language-text">Client</code> from the JS Buy SDK:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> Client <span class="token keyword">from</span> <span class="token string">'shopify-buy'</span><span class="token punctuation">;</span></code></pre></div>
<p>Then add the following configuration object above the <code class="language-text">ReactDOM.render()</code>call:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> client <span class="token operator">=</span> Client<span class="token punctuation">.</span><span class="token function">buildClient</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    storefrontAccessToken<span class="token punctuation">:</span> <span class="token string">'your-access-token'</span><span class="token punctuation">,</span>
    domain<span class="token punctuation">:</span> <span class="token string">'your-shopify-url.myshopify.com'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>That’s it for <code class="language-text">index.js</code> for now — we’ll come back to it soon.</p>
<p>Now we’re going to add in all the components needed for a smooth shopping and
checkout experience. Copy all the components from the <code class="language-text">react-js-buy</code> repository:</p>
<p><code class="language-text">Cart.js</code></p>
<p><code class="language-text">LineItem.js</code></p>
<p><code class="language-text">Product.js</code></p>
<p><code class="language-text">Products.js</code></p>
<p><code class="language-text">VariantSelector.js</code></p>
<p>We will paste these components into a<code class="language-text">components/shopify/</code> folder in your <code class="language-text">src/</code>
folder. You could put these component files anywhere else in the <code class="language-text">src/</code> folder,
if you wished. The rest of the tutorial assumes you have put them in
<code class="language-text">components/shopify/</code> .</p>
<h4>Modifying App.js</h4>
<p><code class="language-text">App.js</code> will need extensive changes. First, import that Cart component you just
copied into your own project:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">import Cart from &#39;./components/shopify/Cart&#39;;</code></pre></div>
<p>If your <code class="language-text">App.js</code> component was stateless, like mine, you should be safe copying
this entire <code class="language-text">constructor()</code> function:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>updateQuantityInCart <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">updateQuantityInCart</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>removeLineItemInCart <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">removeLineItemInCart</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>handleCartClose <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleCartClose</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>if you already have state, copy only those <code class="language-text">bind</code> lines. They are event handler
functions that the Shopify cart needs to function properly.</p>
<p>“But what about state for the cart!?”</p>
<p>You may ask; or:</p>
<p>“What about defining those four methods for the cart!?”</p>
<p>Indeed, that’s coming, but not yet! 😄</p>
<p>You can then append the <code class="language-text">&lt;Cart/&gt;</code> component to the bottom of your render()
function, before the ending div. In my opinion, the cart should be accessible
anywhere in your app. I think it makes sense then to put the <code class="language-text">&lt;Cart/&gt;</code> component
in the root component of your app:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">    <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">></span>
    <span class="token operator">...</span>
    <span class="token operator">&lt;</span>Cart
        checkout<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>checkout<span class="token punctuation">}</span>
        isCartOpen<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>isCartOpen<span class="token punctuation">}</span>
        handleCartClose<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleCartClose<span class="token punctuation">}</span>
        updateQuantityInCart<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>updateQuantityInCart<span class="token punctuation">}</span>
        removeLineItemInCart<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>removeLineItemInCart<span class="token punctuation">}</span>
     <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>So, you may have noticed I didn’t include any code on the event handlers for the
cart yet. Additionally, I didn’t address the lack of state components for the
cart in App.js.</p>
<p>Well, about halfway through this project, I realized my products component was
not in my <code class="language-text">App.js</code> file.</p>
<p>Instead, it was buried about three children components down.</p>
<p>So instead of passing products three levels down to children, and then function
handlers all the way back up…</p>
<p>I decided to use…</p>
<p><strong>😱 Redux!!! 😱</strong></p>
<p>Ugh! I know, I know, Redux, while not being very difficult, is a pain in the
%*$! to wire up initially with all the boilerplate required. But, if you are a
developer working on an E-commerce store or an E-commerce store owner, think of
it this way: Redux will enable you to access the state of the cart from any
component or page in our app.</p>
<p>This ability will be essential as Siren Apparel expands and we develop more
products. As we create more products, I’ll make a seperate dedicated store page
with all products, while leaving just a handful of featured products on the
homepage.</p>
<p>The ability to access the cart is essential if a user shops around a bit, reads
some stories or info about Siren Apparel, and <em>then</em> decides to checkout. It
doesn’t matter how much they navigate around, nothing from their cart will be
lost!</p>
<p>So, in short, I decided it’s probably better to implement Redux now while the
codebase for <a href="https://sirenapparel.us/">our site</a> isn’t too large.</p>
<h4>Implementing Redux for Shopify Buy SDK With Bare Minimum Boilerplate</h4>
<p>Install NPM packages <code class="language-text">redux</code> and <code class="language-text">react-redux</code>:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">npm install --save redux react-redux</code></pre></div>
<p>In <code class="language-text">index.js</code> , import <code class="language-text">Provider</code> from <code class="language-text">react-redux</code>and your <code class="language-text">store</code> from
<code class="language-text">./store</code>:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Provider <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-redux'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'./store'</span><span class="token punctuation">;</span></code></pre></div>
<p>Wrap the <code class="language-text">&lt;Provider&gt;</code> component with the passed <code class="language-text">store</code> around your<code class="language-text">&lt;App&gt;</code>in
<code class="language-text">index.js</code>to hook up your App to your Redux store:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
<span class="token operator">&lt;</span>Provider store<span class="token operator">=</span><span class="token punctuation">{</span>store<span class="token punctuation">}</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>IntlProvider locale<span class="token operator">=</span><span class="token punctuation">{</span>locale<span class="token punctuation">}</span> messages<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">flattenMessages</span><span class="token punctuation">(</span>messages<span class="token punctuation">[</span>locale<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>App locale<span class="token operator">=</span><span class="token punctuation">{</span>locale<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>IntlProvider<span class="token operator">></span>
 <span class="token operator">&lt;</span><span class="token operator">/</span>Provider<span class="token operator">></span><span class="token punctuation">,</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Note that I also have a <code class="language-text">&lt;IntlProvider&gt;</code>, but that’s in <a href="https://medium.com/@sirenapparel/internationalization-and-localization-of-sirenapparel-eu-sirenapparel-us-and-sirenapparel-asia-ddee266066a2">a different post about
how I applied internationalization and localization to dynamically render the
content on Siren Apparel’s
site.</a>
A different story for a different day.</p>
<p>Now of course we haven’t made a <code class="language-text">./store.js</code> file yet. Create your store in
<code class="language-text">store.js</code>in the <code class="language-text">src/</code> root and put this in it:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span>createStore<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'redux'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> reducer <span class="token keyword">from</span> <span class="token string">'./reducers/cart'</span><span class="token punctuation">;</span> 

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">createStore</span><span class="token punctuation">(</span>reducer<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Create your reducers file in <code class="language-text">src/reducers/cart.js</code>and paste this code:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">// initial state</span>
<span class="token keyword">const</span> initState <span class="token operator">=</span> <span class="token punctuation">{</span>
  isCartOpen<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  checkout<span class="token punctuation">:</span> <span class="token punctuation">{</span> lineItems<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  products<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  shop<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// actions</span>
<span class="token keyword">const</span> <span class="token constant">CLIENT_CREATED</span> <span class="token operator">=</span> <span class="token string">'CLIENT_CREATED'</span>
<span class="token keyword">const</span> <span class="token constant">PRODUCTS_FOUND</span> <span class="token operator">=</span> <span class="token string">'PRODUCTS_FOUND'</span>
<span class="token keyword">const</span> <span class="token constant">CHECKOUT_FOUND</span> <span class="token operator">=</span> <span class="token string">'CHECKOUT_FOUND'</span>
<span class="token keyword">const</span> <span class="token constant">SHOP_FOUND</span> <span class="token operator">=</span> <span class="token string">'SHOP_FOUND'</span>
<span class="token keyword">const</span> <span class="token constant">ADD_VARIANT_TO_CART</span> <span class="token operator">=</span> <span class="token string">'ADD_VARIANT_TO_CART'</span>
<span class="token keyword">const</span> <span class="token constant">UPDATE_QUANTITY_IN_CART</span> <span class="token operator">=</span> <span class="token string">'UPDATE_QUANTITY_IN_CART'</span>
<span class="token keyword">const</span> <span class="token constant">REMOVE_LINE_ITEM_IN_CART</span> <span class="token operator">=</span> <span class="token string">'REMOVE_LINE_ITEM_IN_CART'</span>
<span class="token keyword">const</span> <span class="token constant">OPEN_CART</span> <span class="token operator">=</span> <span class="token string">'OPEN_CART'</span>
<span class="token keyword">const</span> <span class="token constant">CLOSE_CART</span> <span class="token operator">=</span> <span class="token string">'CLOSE_CART'</span>

<span class="token comment">// reducers</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token parameter">state <span class="token operator">=</span> initState<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token constant">CLIENT_CREATED</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token operator">...</span>state<span class="token punctuation">,</span> client<span class="token punctuation">:</span> action<span class="token punctuation">.</span>payload<span class="token punctuation">}</span>
    <span class="token keyword">case</span> <span class="token constant">PRODUCTS_FOUND</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token operator">...</span>state<span class="token punctuation">,</span> products<span class="token punctuation">:</span> action<span class="token punctuation">.</span>payload<span class="token punctuation">}</span>
    <span class="token keyword">case</span> <span class="token constant">CHECKOUT_FOUND</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token operator">...</span>state<span class="token punctuation">,</span> checkout<span class="token punctuation">:</span> action<span class="token punctuation">.</span>payload<span class="token punctuation">}</span>
    <span class="token keyword">case</span> <span class="token constant">SHOP_FOUND</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token operator">...</span>state<span class="token punctuation">,</span> shop<span class="token punctuation">:</span> action<span class="token punctuation">.</span>payload<span class="token punctuation">}</span>
    <span class="token keyword">case</span> <span class="token constant">ADD_VARIANT_TO_CART</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token operator">...</span>state<span class="token punctuation">,</span> isCartOpen<span class="token punctuation">:</span> action<span class="token punctuation">.</span>payload<span class="token punctuation">.</span>isCartOpen<span class="token punctuation">,</span> checkout<span class="token punctuation">:</span> action<span class="token punctuation">.</span>payload<span class="token punctuation">.</span>checkout<span class="token punctuation">}</span>
    <span class="token keyword">case</span> <span class="token constant">UPDATE_QUANTITY_IN_CART</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token operator">...</span>state<span class="token punctuation">,</span> checkout<span class="token punctuation">:</span> action<span class="token punctuation">.</span>payload<span class="token punctuation">.</span>checkout<span class="token punctuation">}</span>
    <span class="token keyword">case</span> <span class="token constant">REMOVE_LINE_ITEM_IN_CART</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token operator">...</span>state<span class="token punctuation">,</span> checkout<span class="token punctuation">:</span> action<span class="token punctuation">.</span>payload<span class="token punctuation">.</span>checkout<span class="token punctuation">}</span>
    <span class="token keyword">case</span> <span class="token constant">OPEN_CART</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token operator">...</span>state<span class="token punctuation">,</span> isCartOpen<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span>
    <span class="token keyword">case</span> <span class="token constant">CLOSE_CART</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token operator">...</span>state<span class="token punctuation">,</span> isCartOpen<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span>
    <span class="token keyword">default</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> state
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Don’t worry, I’m not going to just post this big reducer and not discuss what is
going on; we’ll get to each event! Note a few things:</p>
<p>We take the initial state from what the state is written as in the Shopify
GitHub example and put it in our initState, namely the following four parts of
state:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">isCartOpen<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
checkout<span class="token punctuation">:</span> <span class="token punctuation">{</span> lineItems<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
products<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
shop<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre></div>
<p>However, in my implementation, I also create a <code class="language-text">client</code> part of the state. I
call the <code class="language-text">createClient()</code> function once and then immediately set it in the Redux
state in <code class="language-text">index.js</code> . So let’s head into <code class="language-text">index.js</code>:</p>
<h4>Back to index.js</h4>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> client <span class="token operator">=</span> Client<span class="token punctuation">.</span><span class="token function">buildClient</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  storefrontAccessToken<span class="token punctuation">:</span> <span class="token string">'your-shopify-token'</span><span class="token punctuation">,</span>
  domain<span class="token punctuation">:</span> <span class="token string">'your-shopify-url.myshopify.com'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>type<span class="token punctuation">:</span> <span class="token string">'CLIENT_CREATED'</span><span class="token punctuation">,</span> payload<span class="token punctuation">:</span> client<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>In the Shopify buy SDK example, there are a few async calls to get information
about the products and store information in React’s <code class="language-text">componentWillMount()</code>
function. That code looks like this:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token function">componentWillMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>client<span class="token punctuation">.</span>checkout<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        checkout<span class="token punctuation">:</span> res<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>client<span class="token punctuation">.</span>product<span class="token punctuation">.</span><span class="token function">fetchAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        products<span class="token punctuation">:</span> res<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>client<span class="token punctuation">.</span>shop<span class="token punctuation">.</span><span class="token function">fetchInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        shop<span class="token punctuation">:</span> res<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span></code></pre></div>
<p>I opted to do that instead as far upstream as possible, directly in <code class="language-text">index.js</code>.
Then, I issued a corresponding event when each part of the response has been
received:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">// buildClient() is synchronous, so we can call all these after!</span>
client<span class="token punctuation">.</span>product<span class="token punctuation">.</span><span class="token function">fetchAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>type<span class="token punctuation">:</span> <span class="token string">'PRODUCTS_FOUND'</span><span class="token punctuation">,</span> payload<span class="token punctuation">:</span> res<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
client<span class="token punctuation">.</span>checkout<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>type<span class="token punctuation">:</span> <span class="token string">'CHECKOUT_FOUND'</span><span class="token punctuation">,</span> payload<span class="token punctuation">:</span> res<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
client<span class="token punctuation">.</span>shop<span class="token punctuation">.</span><span class="token function">fetchInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>type<span class="token punctuation">:</span> <span class="token string">'SHOP_FOUND'</span><span class="token punctuation">,</span> payload<span class="token punctuation">:</span> res<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>By now the reducer is created, and the initialization of the Shopify API
<code class="language-text">client</code> is complete all for<code class="language-text">index.js</code>.</p>
<h4>Back to <code class="language-text">App.js</code></h4>
<p>Now in <code class="language-text">App.js</code>, wire up Redux’s store to the App state:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> connect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-redux'</span><span class="token punctuation">;</span></code></pre></div>
<p>and don’t forget to import the store as well:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'./store'</span><span class="token punctuation">;</span></code></pre></div>
<p>At the bottom where <code class="language-text">export default App</code> should be, modify it to this:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token operator">=></span> state<span class="token punctuation">)</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>This connects the redux state to the <code class="language-text">App</code> component.</p>
<p>Now in the <code class="language-text">render()</code> function we are able to access the Redux’s state with
Redux’s <code class="language-text">getState()</code> (as apposed to using vanilla react’s <code class="language-text">this.state</code>):</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>    
    <span class="token keyword">const</span> state <span class="token operator">=</span> store<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<h4>Finally: the Event Handlers (Still in App.js)</h4>
<p>From above, you know that there are only three event handlers that we need in
<code class="language-text">App.js</code>, because the cart uses only three: <code class="language-text">updateQuantityInCart</code>,
<code class="language-text">removeLineItemInCart</code>, and <code class="language-text">handleCartClose</code>. The original cart event handlers
from the example GitHub repository, which used local component state looked like
this:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token function">updateQuantityInCart</span><span class="token punctuation">(</span><span class="token parameter">lineItemId<span class="token punctuation">,</span> quantity</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> checkoutId <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>checkout<span class="token punctuation">.</span>id
  <span class="token keyword">const</span> lineItemsToUpdate <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>id<span class="token punctuation">:</span> lineItemId<span class="token punctuation">,</span> quantity<span class="token punctuation">:</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>quantity<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">]</span>

<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>client<span class="token punctuation">.</span>checkout<span class="token punctuation">.</span><span class="token function">updateLineItems</span><span class="token punctuation">(</span>checkoutId<span class="token punctuation">,</span> lineItemsToUpdate<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      checkout<span class="token punctuation">:</span> res<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">removeLineItemInCart</span><span class="token punctuation">(</span><span class="token parameter">lineItemId</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> checkoutId <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>checkout<span class="token punctuation">.</span>id

<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>client<span class="token punctuation">.</span>checkout<span class="token punctuation">.</span><span class="token function">removeLineItems</span><span class="token punctuation">(</span>checkoutId<span class="token punctuation">,</span> <span class="token punctuation">[</span>lineItemId<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      checkout<span class="token punctuation">:</span> res<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">handleCartClose</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    isCartOpen<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>We can refactor them to dispatch events to the Redux store as follows:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token function">updateQuantityInCart</span><span class="token punctuation">(</span><span class="token parameter">lineItemId<span class="token punctuation">,</span> quantity</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> state <span class="token operator">=</span> store<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// state from redux store</span>
    <span class="token keyword">const</span> checkoutId <span class="token operator">=</span> state<span class="token punctuation">.</span>checkout<span class="token punctuation">.</span>id
    <span class="token keyword">const</span> lineItemsToUpdate <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>id<span class="token punctuation">:</span> lineItemId<span class="token punctuation">,</span> quantity<span class="token punctuation">:</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>quantity<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
    state<span class="token punctuation">.</span>client<span class="token punctuation">.</span>checkout<span class="token punctuation">.</span><span class="token function">updateLineItems</span><span class="token punctuation">(</span>checkoutId<span class="token punctuation">,</span> lineItemsToUpdate<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>type<span class="token punctuation">:</span> <span class="token string">'UPDATE_QUANTITY_IN_CART'</span><span class="token punctuation">,</span> payload<span class="token punctuation">:</span> <span class="token punctuation">{</span>checkout<span class="token punctuation">:</span> res<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">removeLineItemInCart</span><span class="token punctuation">(</span><span class="token parameter">lineItemId</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> state <span class="token operator">=</span> store<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// state from redux store</span>
    <span class="token keyword">const</span> checkoutId <span class="token operator">=</span> state<span class="token punctuation">.</span>checkout<span class="token punctuation">.</span>id
    state<span class="token punctuation">.</span>client<span class="token punctuation">.</span>checkout<span class="token punctuation">.</span><span class="token function">removeLineItems</span><span class="token punctuation">(</span>checkoutId<span class="token punctuation">,</span> <span class="token punctuation">[</span>lineItemId<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>type<span class="token punctuation">:</span> <span class="token string">'REMOVE_LINE_ITEM_IN_CART'</span><span class="token punctuation">,</span> payload<span class="token punctuation">:</span> <span class="token punctuation">{</span>checkout<span class="token punctuation">:</span> res<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">handleCartClose</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>type<span class="token punctuation">:</span> <span class="token string">'CLOSE_CART'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">handleCartOpen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>type<span class="token punctuation">:</span> <span class="token string">'OPEN_CART'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>You can add these between the <code class="language-text">constructor()</code> and <code class="language-text">render()</code> methods as usual.</p>
<p>If you were following along, I already mentioned that I added my own
<code class="language-text">handleCartOpen</code> function, because I pass that function down as a prop to my
<code class="language-text">&lt;Nav/&gt;</code> component, so a user is able to open and close the cart from a link in
the nav. At a future time, I could move that function to the Nav itself instead
of passing it as a prop, since of course the Redux store will also be avaliable
there!</p>
<h4>Finally Add that <Products/> Component!</h4>
<p>So, you’ve got a basic store maybe with some simple <code class="language-text">href</code>’s that link to the
corresponding product on your Shopify store? Ha! Throw those out, and replace
them with your brand spankin’ new <code class="language-text">&lt;Products/&gt;</code> component!</p>
<p>First, import the component into wherever your store markup should be (remember,
in my code base I’ve put the shopify example components in a folder called
<code class="language-text">shopify/</code>)</p>
<p>This will be where ever your products currently are. (In<a href="https://github.com/frewinchristopher/react-redux-shopify-storefront-api-example"> the boilerplate
repository</a>
I made, I put this in the <code class="language-text">GenericProductsPage</code> component, to signal that this
code could be applied to any page that has a products section):</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">import Products from &#39;./shopify/Products&#39;;</code></pre></div>
<p>Now finally, that past 15–20 minutes of redux boilerplate code edits pays off:
we can grab the <code class="language-text">products</code> component of our state — not from a vanilla React
state passed down over and over again through props — but through grabbing it in
a neat one liner <code class="language-text">const state = store.getState();</code>:</p>
<p>render () {
const state = store.getState(); // state from redux store
let oProducts = <Products
  products={state.products}
  client={state.client}
  addVariantToCart={this.addVariantToCart}
/>;</p>
<p>Don’t forget to drop the component itself into where it should go in your
<code class="language-text">render()</code> function. For me, that location was buried in Bootstrap style classes
and HTML:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token operator">...</span>
<span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"service-content-one"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"row"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>Products<span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">{</span><span class="token comment">/*/.row*/</span><span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">{</span><span class="token comment">/*/.service-content-one*/</span><span class="token punctuation">}</span>
<span class="token operator">...</span></code></pre></div>
<p>Finally, we will need a single event function <code class="language-text">addVariantToCart</code> for the cart to
work with this products component. Again, for reference, here is the original,
vanilla React local <code class="language-text">state</code> version of <code class="language-text">addVariantToCar</code>(again, from the shopify
example repository):</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token function">addVariantToCart</span><span class="token punctuation">(</span><span class="token parameter">variantId<span class="token punctuation">,</span> quantity</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    isCartOpen<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> lineItemsToAdd <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>variantId<span class="token punctuation">,</span> quantity<span class="token punctuation">:</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>quantity<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> checkoutId <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>checkout<span class="token punctuation">.</span>id

<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>client<span class="token punctuation">.</span>checkout<span class="token punctuation">.</span><span class="token function">addLineItems</span><span class="token punctuation">(</span>checkoutId<span class="token punctuation">,</span> lineItemsToAdd<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      checkout<span class="token punctuation">:</span> res<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>and the new, Redux-friendly <code class="language-text">store.dispatch()</code> version:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token function">addVariantToCart</span><span class="token punctuation">(</span><span class="token parameter">variantId<span class="token punctuation">,</span> quantity</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> state <span class="token operator">=</span> store<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// state from redux store</span>
    <span class="token keyword">const</span> lineItemsToAdd <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>variantId<span class="token punctuation">,</span> quantity<span class="token punctuation">:</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>quantity<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token keyword">const</span> checkoutId <span class="token operator">=</span> state<span class="token punctuation">.</span>checkout<span class="token punctuation">.</span>id
    state<span class="token punctuation">.</span>client<span class="token punctuation">.</span>checkout<span class="token punctuation">.</span><span class="token function">addLineItems</span><span class="token punctuation">(</span>checkoutId<span class="token punctuation">,</span> lineItemsToAdd<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>type<span class="token punctuation">:</span> <span class="token string">'ADD_VARIANT_TO_CART'</span><span class="token punctuation">,</span> payload<span class="token punctuation">:</span> <span class="token punctuation">{</span>isCartOpen<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> checkout<span class="token punctuation">:</span> res<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>which is of course the one we will use 😄</p>
<p>don’t forget to bind it in the constructor:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">this</span><span class="token punctuation">.</span>addVariantToCart <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addVariantToCart</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Don’t forget, you’ll need to connect this component to the store like you did
<code class="language-text">App.js</code> , and import the store:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> connect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-redux'</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'../store'</span><span class="token punctuation">;</span></code></pre></div>
<p>at the top, and (assuming the component where you put the Shopify <code class="language-text">Product</code>
component name is <code class="language-text">GenericProductPage</code>:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">export default connect((state) =&gt; state)(GenericProductsPage);</code></pre></div>
<p>at the bottom.</p>
<p>Great! Now, no matter how deep in components or where ever your products
component is declared, it can communicate with the cart’s state!</p>
<h4>Final BONUS Example: Cart in Your Header or Nav</h4>
<p>If you want to have a ‘Cart’ button in your header / nav, add this button in
your Nav component’s render function (again, an example from my current site,
which has Bootstrap styles — a very simple version is in the <a href="https://github.com/frewinchristopher/react-redux-shopify-storefront-api-example">boilerplate
example</a>:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"App__view-cart-wrapper"</span><span class="token operator">></span>
<span class="token operator">&lt;</span>button className<span class="token operator">=</span><span class="token string">"App__view-cart"</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>handleCartOpen<span class="token punctuation">}</span><span class="token operator">></span>
    Cart
    <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span></code></pre></div>
<p>where <code class="language-text">handleCartOpen</code> is a new handler method you’ll have to add to <code class="language-text">App.js</code>:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">this</span><span class="token punctuation">.</span>handleCartOpen <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleCartOpen</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>in the constructor. Then when you are referencing your Nav component in App.js
(or wherever you place your Nav) you pass the function handler:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token operator">&lt;</span>Nav handleCartOpen<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleCartOpen<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">></span></code></pre></div>
<h4>Styling Component(s)</h4>
<p>I relied on the CSS file, <code class="language-text">app.css</code>, located in the<code class="language-text">shared/</code> folder in th e
<code class="language-text">storefront-api-example</code> repository (you can’t miss it, it’s the only file in
<code class="language-text">shared/</code> ! Make sure to copy that into your <code class="language-text">styles/</code> folder or wherever it
needs to be and include it in your <code class="language-text">index.js</code>file. In my <code class="language-text">index.js</code> it looks
like this:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token string">'./styles/shopify.css'</span><span class="token punctuation">;</span></code></pre></div>
<p>Since I renamed the <code class="language-text">app.css</code> which was in the Shopify example repository to
<code class="language-text">shopify.css</code> , and put it folder <code class="language-text">styles</code>. This convention is also used in the
boilerplate repository code.</p>
<p>From here it’s pretty easy to identify where exactly in <code class="language-text">shopify.css</code> the
default bright blue color for the buttons is defined, and so on. I’m going to
save detailed CSS customization for you to handle. 😃</p>
<p>But who knows, maybe I’ll post on that eventually — but I find the styles from
Shopify pretty good and easy enough to modify.</p>
<h4>Takeaways</h4>
<p>In my opinion, this is a perfect (non-todo list 😜) use of Redux. Redux cleanly
organizes the event functions and state of the Shopify cart and makes it easy to
access the cart’s state from any other component. This is much easier to
maintain than passing pieces of state to children and using multiple event
handlers to pass events back up to parent functions all over a React app.</p>
<p>As shown as an example in the tutorial, the cart’s state is accessed easily in
the nav component and the shop section of the front page. I’ll also be able to
easily add it to a sort of ‘featured’ product section as well, once we’re ready
for that.</p>
<h4>Find the Code</h4>
<p>A boilerplate repository of this implementation <a href="https://github.com/frewinchristopher/react-redux-shopify-storefront-api-example">can be found
here</a>.
It is a near blank create-react-app app, but with all the changes of this
tutorial implemented in <code class="language-text">index.js</code> and <code class="language-text">App.js</code> , as well as a super basic
<code class="language-text">GenericStorePage</code> and <code class="language-text">Nav</code> components.</p>
<p>I built the code on the repo while re-reading and updating my own tutorial here,
to make sure this tutorial makes sense.</p>
<p>Because I am crazy 😜, Siren Apparel’s website is all open-sourced. So if you
want to fool around with my implementation, <a href="https://github.com/frewinchristopher/sirenapparel.us">check out the
respository!</a></p>
<p>I hope you enjoyed this tutorial! If anything isn’t clear or just plain not
working, let me know! I’ll try to assist you!</p>
<p>Thanks to <a href="http://css-snippets.com/author/lisa/">Lisa Catalano</a> at CSS-Snippets
for <a href="http://css-snippets.com/simple-horizontal-navigation/#code">the simple Nav
example</a>!</p>
<p>Cheers! 🍺</p>
<p>Chris</p></section><hr style="margin-bottom:1.625rem"/><footer><div style="display:flex;margin-bottom:4.0625rem;position:relative;z-index:10"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:50px;height:50px;margin-right:0.8125rem;margin-bottom:0;min-width:50px;border-radius:100%"><img src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAAIDAAAAAAAAAAAAAAAAAAMEAQIF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAQIA/9oADAMBAAIQAxAAAAG3DY5430BJ8E1uDf/EABwQAQABBQEBAAAAAAAAAAAAAAECAAMSEyIQIf/aAAgBAQABBQLZ8t3c5dVN5trB30hIwHz/xAAXEQADAQAAAAAAAAAAAAAAAAAAAREQ/9oACAEDAQE/AYiLf//EABcRAAMBAAAAAAAAAAAAAAAAAAABERD/2gAIAQIBAT8BpXv/xAAdEAACAgEFAAAAAAAAAAAAAAAAARAREiExMmGR/9oACAEBAAY/AuQ1bh0N4+M2NRdR/8QAGhABAQEAAwEAAAAAAAAAAAAAAREAMUFh8f/aAAgBAQABPyETXTzKAhyKaLtMhYD1dCnnimD96INM1E8ab//aAAwDAQACAAMAAAAQf99D/8QAFxEAAwEAAAAAAAAAAAAAAAAAAREgIf/aAAgBAwEBPxAK2D//xAAVEQEBAAAAAAAAAAAAAAAAAAARIP/aAAgBAgEBPxBw/wD/xAAfEAEAAgIBBQEAAAAAAAAAAAABABEhMVFBYXGBkfD/2gAIAQEAAT8QfEUFctRs8MRA48wBb2jUtiJS0uJty9aSsq/txBdyKjahpjdlmDp8lOA9T//Z" alt="Chris Frewin" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms;border-radius:50%"/><noscript><picture><source srcset="/static/184fa5bf6a2882dd8fff63606854db72/30d3a/defaultprofilepicture.jpg 1x,
/static/184fa5bf6a2882dd8fff63606854db72/66c95/defaultprofilepicture.jpg 1.5x,
/static/184fa5bf6a2882dd8fff63606854db72/aacbd/defaultprofilepicture.jpg 2x" /><img loading="lazy" width="50" height="50" srcset="/static/184fa5bf6a2882dd8fff63606854db72/30d3a/defaultprofilepicture.jpg 1x,
/static/184fa5bf6a2882dd8fff63606854db72/66c95/defaultprofilepicture.jpg 1.5x,
/static/184fa5bf6a2882dd8fff63606854db72/aacbd/defaultprofilepicture.jpg 2x" src="/static/184fa5bf6a2882dd8fff63606854db72/30d3a/defaultprofilepicture.jpg" alt="Chris Frewin" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><p>Hi, I&#x27;m <strong>Chris Frewin</strong>, I&#x27;m going to be COURSE MASTER for 2020 (I hope)!<sup><sup><sup>please help me</sup></sup></sup><br/><br/>I&#x27;m an ex-mechanical engineer gone full-remote, full-stack application software engineer, and a hobbyist machine learning/natural language processing developer.<!-- --> <br/><br/>If I&#x27;m not building software, I&#x27;ll be found hiking, skiing, taking pictures, spoiling homebrew, or creating music and art. I (mostly) live in Austria.<br/><br/><a href="https://instagram.com/_chrisfrewin_">You can follow me on Instagram.</a><br/><br/>or,<br/><br/><a href="mailto:frewin.christopher@gmail.com">Send me an email.</a><br/><br/><br/>I&#x27;m a proud member of the <a target="_blank" rel="noopener noreferrer" href="https://dev.to/frewinchristopher">DEV Community</a>, and <a target="_blank" rel="noopener noreferrer" href="https://producthunt.com/@galt_">Product Hunt&#x27;s Makers Community</a>!<br/><br/><span>Sites and products I&#x27;ve built solo or co-developed:</span><br/><br/><a href="https://rœst.com" target="_blank" rel="noopener noreferrer">rœst.com</a> / <a href="https://rœst.com" target="_blank" rel="noopener noreferrer">rœst.coffee</a> (Solo)<br/><a href="https://sirenapparel.us" target="_blank" rel="noopener noreferrer">sirenapparel.us</a> (Solo)<br/><a href="https://chrisfrew.in/nlp-champs" target="_blank" rel="noopener noreferrer">chrisfrew.in/nlp-champs (formerly nlp-champs.com)</a> (Solo)<br/><a href="https://seelengeflüster-tirol.com" target="_blank" rel="noopener noreferrer">seelengeflüster-tirol.com</a> (Solo)<br/><a href="https://wallstreetbetswally.github.io" target="_blank" rel="noopener noreferrer">wallstreetbetswally.github.io</a> (Solo)<br/><a href="https://chrisfrew.in/invaders" target="_blank" rel="noopener noreferrer">chrisfrew.in/invaders</a> (Solo)<br/><a href="https://chrisfrew.in/portfolio" target="_blank" rel="noopener noreferrer">chrisfrew.in/portfolio</a> (Solo)<br/><a href="https://risch-shoes.com" target="_blank" rel="noopener noreferrer">risch-shoes.com</a> (Co-Developed)</p></div></footer></article><nav><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/the-software-engineers-social-contract/">← <!-- -->The Software Engineer&#x27;s Social Contract</a></li><li><a rel="next" href="/want-to-build-this-blog-now-you-can/">Want to Build a Blog Just Like This One? Now You Can!<!-- --> →</a></li></ul></nav></main><footer><h5>© <!-- -->2020<!-- --> chrisfrew.in<br/>Really like the blog? You can support it:<br/><br/><style>.bmc-button img{width: 27px !important;margin-bottom: 3px !important;box-shadow: none !important;border: none !important;vertical-align: middle !important;}.bmc-button{line-height: 36px !important;height:37px !important;text-decoration: none !important;display:inline-block !important;color:#000000 !important;background-color:#FFDD00 !important;border-radius: 3px !important;border: 1px solid transparent !important;padding: 1px 9px !important;font-size: 23px !important;letter-spacing: 0.6px !important;box-shadow: 0px 1px 2px rgba(190, 190, 190, 0.5) !important;-webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;margin: 0 auto !important;font-family:'Cookie', cursive !important;-webkit-box-sizing: border-box !important;box-sizing: border-box !important;-o-transition: 0.3s all linear !important;-webkit-transition: 0.3s all linear !important;-moz-transition: 0.3s all linear !important;-ms-transition: 0.3s all linear !important;transition: 0.3s all linear !important;}.bmc-button:hover, .bmc-button:active, .bmc-button:focus {-webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;text-decoration: none !important;box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;opacity: 0.85 !important;color:#000000 !important;}</style><link href="https://fonts.googleapis.com/css?family=Cookie" rel="stylesheet"/><a class="bmc-button" target="_blank" rel="noopener noreferrer" href="https://www.buymeacoffee.com/chrisfrewin"><img src="https://www.buymeacoffee.com/assets/img/BMC-btn-logo.svg" alt="Buy me a cappucino"/><span style="margin-left:5px">Buy me a cappucino</span></a><br/></h5></footer><div class="background-mask"></div></div></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-63301492-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/a-detailed-tutorial-shopify-storefront-apireact-redux/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-4c82f1120542748bc39c.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-2642abeb110b544c12ef.js"],"component---src-pages-404-js":["/component---src-pages-404-js-ba8fab707f547b8d2140.js"],"component---src-pages-index-js":["/component---src-pages-index-js-511e09b2f0f1386b8494.js"]};/*]]>*/</script><script src="/webpack-runtime-4cd14b33a27ff34dca30.js" async=""></script><script src="/styles-5d031bf83756cf4dd9d4.js" async=""></script><script src="/app-4c82f1120542748bc39c.js" async=""></script><script src="/commons-aacedbba520b31cce423.js" async=""></script><script src="/component---src-templates-blog-post-js-2642abeb110b544c12ef.js" async=""></script></body></html>