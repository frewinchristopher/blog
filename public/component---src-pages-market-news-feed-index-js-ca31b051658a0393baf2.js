(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{140:function(e,t,n){"use strict";n.r(t);n(634),n(76),n(77),n(34),n(154);var i=n(7),a=n.n(i),s=n(48),o=n.n(s),r=n(0),c=n.n(r),l=n(157),u=n.n(l),f=n(177),d=n.n(f),m=n(148),p=n(636),h=n.n(p).a.connect("https://chrisfrew.in/market-news-feed-ws"),w=function(e){function t(){var t;return(t=e.call(this)||this).state={aListItems:[]},t.setupNotifications=t.setupNotifications.bind(o()(o()(t))),t.setupSocketEvents=t.setupSocketEvents.bind(o()(o()(t))),t}a()(t,e);var n=t.prototype;return n.setupNotifications=function(){"granted"!==Notification.permission&&Notification.requestPermission()},n.setupSocketEvents=function(){var e=this;h.on("newNews",function(t){var n,i=e.state.aListItems,a=new Date(1e3*t.iUnixDateTime);e.setState(((n={})[t.sId]="newNewsNotification",n)),console.log(t),i.unshift(c.a.createElement("li",{key:t.sId,className:e.state[t.sId]},c.a.createElement("a",{href:t.sLink,target:"_blank",rel:"noopener noreferrer",className:"newNewsNotification"},t.sIdentifier,", ",a.toLocaleString(),": ",t.sTitle))),setTimeout(function(){var n;e.setState(((n={})[t.sId]="",n))},6e3),e.setState({aListItems:i}),"granted"===Notification.permission&&new Notification("Breaking news: for "+t.sIdentifier+':"'+t.sTitle+'"')}),h.on("mp3Data",function(e){new Audio(e.sBase64).play()})},n.render=function(){return c.a.createElement("div",null,c.a.createElement(u.a,{title:"Market News Feed"}),c.a.createElement("h1",null,"Market News Feed"),c.a.createElement("p",{style:Object.assign({},Object(m.b)(-.2),{display:"block",marginBottom:Object(m.a)(1),marginTop:Object(m.a)(-1)})},"A live stream of Finviz news, so you don't have to refresh. Notifications can be enabled."),c.a.createElement("ul",null,this.state.aListItems))},n.componentDidMount=function(){this.setupNotifications(),this.setupSocketEvents();var e=this;d.a.get("https://chrisfrew.in/market-news-feed-api").then(function(t){var n,i=[];t.data.forEach(function(a,s){n=new Date(1e3*a.unix_time_released),i.push(c.a.createElement("li",{key:a.id},c.a.createElement("a",{href:a.link,target:"_blank",rel:"noopener noreferrer"},a.identifier,", ",n.toLocaleString(),": ",a.title))),s+1===t.data.length&&e.setState({aListItems:i})})}).catch(function(t){e.setState({aListItems:[c.a.createElement("li",{key:"error"},"Error loading feed :(")]}),console.log(t)})},t}(c.a.Component);t.default=w},148:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l});var i=n(155),a=n.n(i),s=n(156),o=n.n(s);o.a.overrideThemeStyles=function(){return{"a.gatsby-resp-image-link":{boxShadow:"none"}}},delete o.a.googleFonts;var r=new a.a(o.a);var c=r.rhythm,l=r.scale},656:function(e,t){}}]);
//# sourceMappingURL=component---src-pages-market-news-feed-index-js-ca31b051658a0393baf2.js.map