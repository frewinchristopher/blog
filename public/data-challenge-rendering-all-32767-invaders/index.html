<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.625 -apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:normal;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}h1{margin-left:0;margin-right:0;margin-top:2.4375rem;padding-bottom:calc(0.40625rem - 1px);padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.21875rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;border-bottom:1px solid hsla(0,0%,0%,0.07);}h2{margin-left:0;margin-right:0;margin-top:1.625rem;padding-bottom:calc(0.40625rem - 1px);padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.40625rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;border-bottom:1px solid hsla(0,0%,0%,0.07);}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:hsla(0,0%,0%,0.53);font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}ul{margin-left:1.625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;font-size:0.85rem;line-height:1.625rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;font-size:1rem;line-height:1.625rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}blockquote{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:calc(0.8125rem - 1px);padding-right:0;padding-top:0;margin-bottom:0.8125rem;border-left:4px solid hsla(0,0%,0%,0.13);color:hsla(0,0%,0%,0.53);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(0.8125rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}b{font-weight:600;}strong{font-weight:600;}dt{font-weight:600;}th{font-weight:600;}li{margin-bottom:calc(0.8125rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.625rem;margin-bottom:calc(0.8125rem / 2);margin-top:calc(0.8125rem / 2);}li > ul{margin-left:1.625rem;margin-bottom:calc(0.8125rem / 2);margin-top:calc(0.8125rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(0.8125rem / 2);}code{font-size:0.85rem;line-height:1.625rem;}kbd{font-size:0.85rem;line-height:1.625rem;}samp{font-size:0.85rem;line-height:1.625rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.08333rem;padding-right:1.08333rem;padding-top:0.8125rem;padding-bottom:calc(0.8125rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}h3,h4,h5,h6{margin-bottom:0.8125rem;margin-top:1.625rem;}ol,ul{margin-left:2.03125rem;}li>ol,li>ul{margin-left:2.03125rem;}a{color:#4078c0;text-decoration:none;}a:hover,a:active{text-decoration:underline;}</style><meta data-react-helmet="true" name="description" content="This post is also published on Medium, if you prefer to read there1, but it was posted here first. 😄 Results First, Technical Stuff Later If you’re here just…"/><style type="text/css">.gatsby-resp-image-image{width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;color:transparent;}</style><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#000000"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png"/><title data-react-helmet="true">Data Challenge! Rendering All 32,767 Invaders! | Chris&#x27; Full Stack Blog</title><meta name="generator" content="Gatsby 2.18.12"/><meta data-react-helmet="true" property="og:title" content="Data Challenge! Rendering All 32,767 Invaders!"/><meta data-react-helmet="true" property="og:description" content="This post is also published on Medium, if you prefer to read there1, but it was posted here first. 😄 Results First, Technical Stuff Later If you’re here just…"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="Chris Frewin"/><meta data-react-helmet="true" name="twitter:title" content="Data Challenge! Rendering All 32,767 Invaders!"/><meta data-react-helmet="true" name="twitter:description" content="This post is also published on Medium, if you prefer to read there1, but it was posted here first. 😄 Results First, Technical Stuff Later If you’re here just…"/><style data-href="/styles.053af9e80477c975aa55.css">@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:100;src:local("Montserrat Thin "),local("Montserrat-Thin"),url(/static/montserrat-latin-100-191cc9f50f3b76b9617cb383f19acb7d.woff2) format("woff2"),url(/static/montserrat-latin-100-370318464551d5f25b0f0a78f374faac.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:100;src:local("Montserrat Thin italic"),local("Montserrat-Thinitalic"),url(/static/montserrat-latin-100italic-bdeaeb79db315697bd173a55b097dc18.woff2) format("woff2"),url(/static/montserrat-latin-100italic-ecf7d49386e8f265878e735db34a7c4b.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:200;src:local("Montserrat Extra Light "),local("Montserrat-Extra Light"),url(/static/montserrat-latin-200-85d5ef9db7f2dc6979172a4a3b2c57cb.woff2) format("woff2"),url(/static/montserrat-latin-200-1fc98e126a3d152549240e6244d7e669.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:200;src:local("Montserrat Extra Light italic"),local("Montserrat-Extra Lightitalic"),url(/static/montserrat-latin-200italic-49095760a498d024fe1a85a078850df9.woff2) format("woff2"),url(/static/montserrat-latin-200italic-fe46cf8b9462c820457d3bf537e4057f.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:300;src:local("Montserrat Light "),local("Montserrat-Light"),url(/static/montserrat-latin-300-7c3daf12b706645b5d3710f863a4da04.woff2) format("woff2"),url(/static/montserrat-latin-300-8dc95fab9cf98d02ca8d76e97d3dff60.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:300;src:local("Montserrat Light italic"),local("Montserrat-Lightitalic"),url(/static/montserrat-latin-300italic-f20b178ca2024a5eac8e42e6649db86c.woff2) format("woff2"),url(/static/montserrat-latin-300italic-3fe16939288856e8e828fa2661bf2354.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:400;src:local("Montserrat Regular "),local("Montserrat-Regular"),url(/static/montserrat-latin-400-bc3aa95dca08f5fee5291e34959c27bc.woff2) format("woff2"),url(/static/montserrat-latin-400-8102c4838f9e3d08dad644290a9cb701.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:400;src:local("Montserrat Regular italic"),local("Montserrat-Regularitalic"),url(/static/montserrat-latin-400italic-5cad650422a7184467af5a4d17b264c4.woff2) format("woff2"),url(/static/montserrat-latin-400italic-d191f22af3bb50902b99ac577f81a322.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:500;src:local("Montserrat Medium "),local("Montserrat-Medium"),url(/static/montserrat-latin-500-92d16e458625f4d2c8940f6bdca0ff09.woff2) format("woff2"),url(/static/montserrat-latin-500-8b763220218ffc11c57c84ddb80e7b26.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:500;src:local("Montserrat Medium italic"),local("Montserrat-Mediumitalic"),url(/static/montserrat-latin-500italic-47bfcca6b69d6a9acca7a8bff17193e2.woff2) format("woff2"),url(/static/montserrat-latin-500italic-72c01f753c3940c0b9cb6bf2389caddf.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:600;src:local("Montserrat SemiBold "),local("Montserrat-SemiBold"),url(/static/montserrat-latin-600-6fb1b5623e528e27c18658fecf5ee0ee.woff2) format("woff2"),url(/static/montserrat-latin-600-7c839d15a6f54e7025ba8c0c4b333e8f.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:600;src:local("Montserrat SemiBold italic"),local("Montserrat-SemiBolditalic"),url(/static/montserrat-latin-600italic-60789af1c9338ed1a9546722ec54b4f7.woff2) format("woff2"),url(/static/montserrat-latin-600italic-f3d4de8d0afb19e777c79032ce828e3d.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:700;src:local("Montserrat Bold "),local("Montserrat-Bold"),url(/static/montserrat-latin-700-39d93cf678c740f9f6b2b1cfde34bee3.woff2) format("woff2"),url(/static/montserrat-latin-700-80f10bd382f0df1cd650fec59f3c9394.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:700;src:local("Montserrat Bold italic"),local("Montserrat-Bolditalic"),url(/static/montserrat-latin-700italic-ba136d97b14e82284dd595e257f11c47.woff2) format("woff2"),url(/static/montserrat-latin-700italic-8c98142b425630821139c24bd1698700.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:800;src:local("Montserrat ExtraBold "),local("Montserrat-ExtraBold"),url(/static/montserrat-latin-800-b7018be9ed6cd94da8b6675b3a468c3b.woff2) format("woff2"),url(/static/montserrat-latin-800-9a9befcf50d64f9d2d19d8b1d1984add.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:800;src:local("Montserrat ExtraBold italic"),local("Montserrat-ExtraBolditalic"),url(/static/montserrat-latin-800italic-540ffdd223d1a9ad3d4e678e1a23372e.woff2) format("woff2"),url(/static/montserrat-latin-800italic-897086f99f4e1f45e6b1e9368527d0bc.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:900;src:local("Montserrat Black "),local("Montserrat-Black"),url(/static/montserrat-latin-900-58cd789700850375b834e8b6776002eb.woff2) format("woff2"),url(/static/montserrat-latin-900-26d42c9428780e545a540bbb50c84bce.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:900;src:local("Montserrat Black italic"),local("Montserrat-Blackitalic"),url(/static/montserrat-latin-900italic-451157bc8861fe54f523b3669a3def71.woff2) format("woff2"),url(/static/montserrat-latin-900italic-a8ec4957e1c24f5793305763ad9845b3.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:300;src:local("Merriweather Light "),local("Merriweather-Light"),url(/static/merriweather-latin-300-b1158cfcd4aacb9d8fb61625e37af46a.woff2) format("woff2"),url(/static/merriweather-latin-300-cc7de05e166e90320d7d896e0f72a19d.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:300;src:local("Merriweather Light italic"),local("Merriweather-Lightitalic"),url(/static/merriweather-latin-300italic-8fe52a48089d6ebe46db0b8e7cc66263.woff2) format("woff2"),url(/static/merriweather-latin-300italic-e1331f5397c2a673f9d3765138debdb5.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:400;src:local("Merriweather Regular "),local("Merriweather-Regular"),url(/static/merriweather-latin-400-8276fdb72ae8f4714d4e6eba704cc39f.woff2) format("woff2"),url(/static/merriweather-latin-400-69f09800f4f6479d06e44eba837df872.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:400;src:local("Merriweather Regular italic"),local("Merriweather-Regularitalic"),url(/static/merriweather-latin-400italic-3a9be9ea9f7aa4af6de7307df21d9fc0.woff2) format("woff2"),url(/static/merriweather-latin-400italic-d76079ed7541a433a54f79316de086e9.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:700;src:local("Merriweather Bold "),local("Merriweather-Bold"),url(/static/merriweather-latin-700-fa534be7ffa380e39a7f6e03bf9a5e03.woff2) format("woff2"),url(/static/merriweather-latin-700-ba56ea84b8084b7ff9677f50d3cd81bd.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:700;src:local("Merriweather Bold italic"),local("Merriweather-Bolditalic"),url(/static/merriweather-latin-700italic-1ef5edaaa20ae53ea50399884c5e48c6.woff2) format("woff2"),url(/static/merriweather-latin-700italic-534bc9e7ce93c73d73426e46acd78092.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:900;src:local("Merriweather Black "),local("Merriweather-Black"),url(/static/merriweather-latin-900-7528fb70e8a4a82c7305e72ff43ac25f.woff2) format("woff2"),url(/static/merriweather-latin-900-3799b6e2f5ed3fcccf9d7a708d7419fa.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:900;src:local("Merriweather Black italic"),local("Merriweather-Blackitalic"),url(/static/merriweather-latin-900italic-e1b4d2aaa78e12ad84aaf8a56321e4c2.woff2) format("woff2"),url(/static/merriweather-latin-900italic-2ae22f731b3424e8dbb4b37f7ca6e708.woff) format("woff")}code[class*=language-],pre[class*=language-]{color:#000;text-shadow:0 1px #fff}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}.token.punctuation{color:#999}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#f8f8f2}.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}body,html{background-color:transparent;color:#fff}header,main{pointer-events:none}header{z-index:20;position:relative}footer{margin-top:6rem}footer,main{position:relative;z-index:10}a{color:#f92672;z-index:10;pointer-events:all}canvas{pointer-events:all}.canvas-mask,canvas{height:100vh;top:0;left:0;width:100vw;position:fixed}.canvas-mask{pointer-events:none;background-color:rgba(0,0,0,.5);z-index:1}.background-mask{pointer-events:none;background-color:#000;height:100vh;top:0;left:0;width:100vw;position:fixed}.twentytwenty-fun{display:inline-block;position:relative;font-size:.75rem;font-family:Courier New,Courier,monospace;-webkit-animation:hover 2s ease-in-out infinite alternate;animation:hover 2s ease-in-out infinite alternate;line-height:.75rem;text-align:center}h1{border-bottom:none}@-webkit-keyframes hover{0%{-webkit-transform:translateY(-10%);transform:translateY(-10%);-webkit-transform:translateX(-10%);transform:translateX(-10%);-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:translateY(10%);transform:translateY(10%);-webkit-transform:translateX(10%);transform:translateX(10%);-webkit-transform:rotate(30deg);transform:rotate(30deg)}}@keyframes hover{0%{-webkit-transform:translateY(-10%);transform:translateY(-10%);-webkit-transform:translateX(-10%);transform:translateX(-10%);-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:translateY(10%);transform:translateY(10%);-webkit-transform:translateX(10%);transform:translateX(10%);-webkit-transform:rotate(30deg);transform:rotate(30deg)}}</style><link as="script" rel="preload" href="/component---src-templates-blog-post-js-2642abeb110b544c12ef.js"/><link as="script" rel="preload" href="/commons-aacedbba520b31cce423.js"/><link as="script" rel="preload" href="/app-4c82f1120542748bc39c.js"/><link as="script" rel="preload" href="/styles-5d031bf83756cf4dd9d4.js"/><link as="script" rel="preload" href="/webpack-runtime-4cd14b33a27ff34dca30.js"/><link as="fetch" rel="preload" href="/page-data/data-challenge-rendering-all-32767-invaders/page-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><div style="margin-left:auto;margin-right:auto;max-width:39rem;padding:2.4375rem 1.21875rem"><header><h3 style="font-family:Montserrat, sans-serif;margin-top:0"><a style="box-shadow:none;text-decoration:none;color:inherit" href="/">Chris&#x27; Full Stack Blog</a></h3></header><main><article><header><h1 style="margin-top:1.625rem;margin-bottom:0">Data Challenge! Rendering All 32,767 Invaders!</h1><p style="font-size:0.87055rem;line-height:1.625rem;display:block;margin-bottom:1.625rem">January 13, 2019</p></header><section><p>This post is <a href="https://medium.com/@frewin.christopher/data-challenge-rendering-all-32-767-invaders-d20e69e045f4">also published on Medium</a>, if you prefer to read there<sup><a href="#footnote-1">1</a></sup>, but it was posted here first. 😄</p>
<h2>Results First, Technical Stuff Later</h2>
<p>If you’re here just trying to find my Invader-rendering site, <a href="https://chrisfrew.in/invaders">that is here.</a></p>
<p>Or, if you are looking for the <em>repository</em> for ^ that site, <a href="https://github.com/frewinchristopher/invaders">that is here.</a></p>
<p>Finally, the backend code (in Python) to generate all 32,767 unique instances Invaders <a href="https://github.com/frewinchristopher/invaders-data">is here.</a></p>
<h2>Background: Processing and p5.js</h2>
<p>I got into the whole Processing universe through a few generative art courses on Skillshare.  If you don’t know yet, Processing is a Java library (I believe there is a Python library too) that makes drawing and creating both fixed and animated digital art very easy. To get started, you need only to download the IDE and fill out a few methods, which could look as simple as:</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">float</span> xLocation <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> yLocation <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">background</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">size</span><span class="token punctuation">(</span><span class="token number">700</span><span class="token punctuation">,</span><span class="token number">700</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token keyword">float</span> newXLocation <span class="token operator">=</span> xLocation <span class="token operator">+</span> <span class="token function">random</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">50</span><span class="token punctuation">;</span>
   <span class="token keyword">float</span> newYLocation <span class="token operator">=</span> yLocation <span class="token operator">+</span> <span class="token function">random</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">50</span><span class="token punctuation">;</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span>newXLocation <span class="token operator">></span> <span class="token number">700</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     newXLocation <span class="token operator">=</span> <span class="token number">700</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span>newXLocation <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     newXLocation <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span>newYLocation <span class="token operator">></span> <span class="token number">700</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     newYLocation <span class="token operator">=</span> <span class="token number">700</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span>newYLocation <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     newYLocation <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token comment">//line(s.xLocation, s.yLocation, newXLocation, newYLocation);</span>
   <span class="token function">stroke</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">fill</span><span class="token punctuation">(</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">random</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">random</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">float</span> randomCircleSize <span class="token operator">=</span> <span class="token function">random</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">ellipse</span><span class="token punctuation">(</span>xLocation<span class="token punctuation">,</span> yLocation<span class="token punctuation">,</span> randomCircleSize<span class="token punctuation">,</span> randomCircleSize<span class="token punctuation">)</span><span class="token punctuation">;</span>
   xLocation <span class="token operator">=</span> newXLocation<span class="token punctuation">;</span>
   yLocation <span class="token operator">=</span> newYLocation<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>and already you’ve written code that generates an animation like this:</p>
<p><img src="/23f201e6ab98ad11a143902c2c636808/circles.gif" alt="Gif of randomly colored circles popping up all over the screen"></p>
<p>Of course, this is only the tip of the iceberg. You can build out and develop art and patterns as complex as you want, <a href="https://www.skillshare.com/projects/Talkin-Bout-My-Generating/27908">like these examples by Daniel Stewart.</a></p>
<h2>Motivation for this Data Challenge</h2>
<p>So, after learning the very basics about Processing and working through a few examples and a beginner generative art course by <a href="https://www.skillshare.com/classes/Coding-Easy-Generative-Art-With-Processing-The-Basics/520946096">Melissa Wiederrecht on Skillshare</a>, I started exploring other’s work, also mostly on Skillshare. </p>
<p>Being the video game nerd that I am, I took a particular liking to the ‘Invaders’ work by <a href="https://www.skillshare.com/projects/Experimenting-with-Processing-and-HYPE/18021">Jerome Herr in 2013</a> and <a href="https://pastebin.com/umz39Yus">code</a>. He mentions for the Invaders that he was originally inspired by <a href="http://www.complexification.net/gallery/machines/invaderfractal/">Jared Tarbell’s work in 2003</a> who appears to be the first to work on the Invaders concept and even provides <a href="http://www.complexification.net/gallery/machines/invaderfractal/flash/invaderFractall.html">an interactive fractal implementation of Invader generation</a>.</p>
<p>That’s when I saw my chance to put my own spin on Invaders. Both Jerome’s and Jared’s works are not determinant. In other words, each time you run their respective programs, you get a different result. With my web app / API / front-end background, I realized that all the Invader data could first be generated, and then loaded at any later time. And so this <strong>Data Challenge!</strong><sup>TM</sup> began! </p>
<p>I started by modifying <a href="https://pastebin.com/umz39Yus">the code kindly provided by Jerome</a>, but then I started getting frustrated with the Java syntax entirely. It’s been over 10 years since I wrote any Java, and that was my Junior year in Highschool… so yeah, I was looking for (hopefully) a Javascript possibility. And what do you know, there <em>is</em> a JavaScript library for processing!</p>
<p>It just so happens that completely by chance, the very cover animation on the home page of my blog, which you may or may not know depending on how often you visit the blog, <em>is</em> a p5.js animation! I didn’t make the connection at first because I originally found that library through <a href="https://news.ycombinator.com/item?id=17716542">this ‘Show HN’ post showcasing the library back at the end of August, 2018</a>, and that ‘circles bouncing around in a container’ example is a pretty generic example which I just lightly refactored for my site. Plus, the names p5 and Processing just never connected in my mind!</p>
<h2>The Decision to Switch to Javascript</h2>
<p>So I finally bit the bullet and said, “alright, I’m killin’ myself here, I need do this in JavaScript, let’s convert this Java code to Javascript.”<sup><a href="#footnote-2">2</a></sup>  </p>
<p>Anyway, the reason I wanted to do this project in Javascript was to get more practice with p5.js. I’ll likely be using in the future for even more generative art projects! This is the best path forward for me, because even if it is static artwork (like prints and such), I’ll still have the p5.js version that can literally be shared in its pure form across the web!</p>
<h2>React and p5.js</h2>
<p>I <em>also</em> wanted to build this site with my near and dear front-end library of choice, React. Then of course, because p5.js uses canvas elements, you need a wrapper to pass data events to p5.js from React and blah blah blah. Yay, state-of-the-web in 2019!</p>
<p>Luckily, there is <a href="https://github.com/atorov/react-p5js/tree/master/src/components">a boilerplate repository</a> by <a href="https://github.com/atorov">atorov</a> with not <em>one</em> but <em>two</em> examples of how to use p5.js sketches with react!</p>
<p>So, I had an overview of all the scaffolding I needed. I then got started with the Invader data generation.</p>
<h2>Definitions</h2>
<h3>What is an Invader?</h3>
<p>Before we go any further, I’ll explain mathematically what an Invader is. An Invader is an array of 15 independently activated or deactivated blocks, arranged in any order, which is then partially reflected along the y-axis (1 reflecting to 1’, 6 reflecting to 6’, and so on) forming the complete 25 block, 5 x 5 group of blocks::</p>
<p><img src="/57e7eb952cf097b73983513c5de33d4e/invader.svg" alt="Invader schematic"></p>
<p>There are 2<sup>15</sup>-1 possible unique combinations of this configuration, or 32,768 - 1 = 32,767. We have to subtract 1 from 32,768, since the Invader with all 15 blocks deactivated would be an empty 5 x 5 group of blocks. (Oppositely, an Invader with all 15 blocks activated is a solid 5 x 5 group of blocks.)</p>
<p>A helpful analogy for me was to picture this array of 15 switches next to each other, each being switched on or off at random, until you have every possible combination - all 32,767 of them. This configuration can be realized as a binary list of length 15, where a <code class="language-text">1</code> represents an activated, or turned on block, while a <code class="language-text">0</code> represents a deactivated, or turned off block.</p>
<h2>Math and Data Generation</h2>
<p>The math behind Invader generation is briefly discussed directly on the <a href="https://chrisfrew.in/invaders">Invaders page</a>, but I’ll go into detail here.</p>
<h3>Block Data</h3>
<p>So we know what an Invader is now. But how can exactly are we going to generate every possible binary string of length 15? We need to generate what I call in the code “block strings” (or <code class="language-text">block_strings</code>).</p>
<p>I’ll admit, I struggled for a while on how to do this without writing custom Python. I went immediately to the <code class="language-text">itertools</code> library, trying to work some magic with the <code class="language-text">permutations</code> and/or <code class="language-text">combinations</code> functions, but Python kept thinking it should count each <code class="language-text">0</code> in the list as unique, so I kept getting what I considered ‘repeat’ entries, for example: <code class="language-text">&#39;100000000000000&#39;</code> and <code class="language-text">&#39;10000000000000&#39;</code> - they of course appear identical to us, but not to Python 😄) </p>
<p>Anyway, after lots of Google and Stack Overflow, it turns out that there <em>is</em> a one-liner that can do this, which actually <em>is</em> in the itertools library, it’s just a not-so-commonly seen method, <code class="language-text">product()</code>:</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">lInvaders <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">""</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>seq<span class="token punctuation">)</span> <span class="token keyword">for</span> seq <span class="token keyword">in</span> itertools<span class="token punctuation">.</span>product<span class="token punctuation">(</span><span class="token string">"10"</span><span class="token punctuation">,</span> repeat<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token comment"># all binary combinations of 0s and 1s and length 15</span></code></pre></div>
<p>Yep. That’s it. <code class="language-text">lInvaders</code> is a list with all 32,767 unique Invaders in it.</p>
<h3>Rank Data</h3>
<p>I also had the idea to create a ‘rank’ for each Invader - the number of total activated blocks in the array of 15. In other words, counting how many <code class="language-text">1</code>’s that were in the binary string.</p>
<p>One can imagine that for both ranks 1 and 14 there are 15 Invaders, since Rank 1 is the same as choosing any 1 of the 15 blocks and activating it, while Rank 14 is similar, but instead, 1 of the given 15 blocks is deactivated instead of activated. Rank 15 is also easy to imagine - there is only 1 combination - all 15 blocks activated. (As mentioned above in the description, I ignore the single Invader of Rank 0, because it is a 5 x 5 group of blocks with all blocks deactivated, thus it is an empty block.) </p>
<p>However, for all the ranks from 2 to 13, trying to intuitively picture the number of Invaders becomes difficult. So I decided to add that into my code, by determining the count of <code class="language-text">1</code>’s in each of the 32,767 Invader binary strings:</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">lRanks <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token builtin">len</span><span class="token punctuation">(</span>lInvaders<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    
    lRanks<span class="token punctuation">.</span>append<span class="token punctuation">(</span>lInvaders<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div>
<p>This form is simply a rank count for each Invader, so I needed to count all the ranks in the array by <em>collecting</em> them. That can be done with, <em>gasp</em> the <code class="language-text">collections</code> library:</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">counter<span class="token operator">=</span>collections<span class="token punctuation">.</span>Counter<span class="token punctuation">(</span>lRanks<span class="token punctuation">)</span> </code></pre></div>
<p>Here’s the contents of <code class="language-text">counter</code> for your enjoyment.</p>
<table>
<thead>
<tr>
<th>Rank</th>
<th>Count</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>15</td>
</tr>
<tr>
<td>2</td>
<td>105</td>
</tr>
<tr>
<td>3</td>
<td>455</td>
</tr>
<tr>
<td>4</td>
<td>1365</td>
</tr>
<tr>
<td>5</td>
<td>3003</td>
</tr>
<tr>
<td>6</td>
<td>5005</td>
</tr>
<tr>
<td>7</td>
<td>6435</td>
</tr>
<tr>
<td>8</td>
<td>6435</td>
</tr>
<tr>
<td>9</td>
<td>5005</td>
</tr>
<tr>
<td>10</td>
<td>3003</td>
</tr>
<tr>
<td>11</td>
<td>1365</td>
</tr>
<tr>
<td>12</td>
<td>455</td>
</tr>
<tr>
<td>13</td>
<td>105</td>
</tr>
<tr>
<td>14</td>
<td>15</td>
</tr>
<tr>
<td>15</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>I’m sure someone with a stronger mathematics background can provide the analytical solution for why this is, but I just left it as a vague concept of ‘degrees of freedom’, peaking at 7 and 8, allowed in the 15 character binary string, based on how many blocks that have to be activated. </p>
<p>Additionally, if we add those counts up, we see it confirms my analysis of 2<sup>15</sup>-1 possible unique combinations, or 32,767 combinations. (Notice also that Rank 0 could be shown, and that would likewise have a count of 1 like Rank 15, but as I said above, I’m not counting that Invader because it is an empty block and wouldn’t really display anything.)</p>
<h3>DataFrame and JSON Data Export</h3>
<p>So we have all 32,767 binary strings and their rank. We need to just ‘zip’ these arrays together (and I sorted them by rank). This ‘zipping’ is very easy with the pandas <code class="language-text">DataFrame</code> constructor: </p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">oDataFrame <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'block_string'</span><span class="token punctuation">:</span> lInvaders<span class="token punctuation">,</span> <span class="token string">'rank'</span><span class="token punctuation">:</span> lRanks<span class="token punctuation">}</span><span class="token punctuation">)</span>
oDataFrame <span class="token operator">=</span> oDataFrame<span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span>by<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'rank'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ascending<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></code></pre></div>
<p>I opted to create both a full data JSON file for reference, and a separate JSON file, per-rank:</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">oDataFrame<span class="token punctuation">.</span>to_json<span class="token punctuation">(</span>os<span class="token punctuation">.</span>getcwd<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'/data/all_data.json'</span><span class="token punctuation">,</span> orient<span class="token operator">=</span><span class="token string">'records'</span><span class="token punctuation">)</span> <span class="token comment"># full data</span>
<span class="token keyword">for</span> i<span class="token punctuation">,</span> x <span class="token keyword">in</span> oDataFrame<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token string">'rank'</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment"># data per rank</span>
    x<span class="token punctuation">.</span>to_json<span class="token punctuation">(</span>os<span class="token punctuation">.</span>getcwd<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'/data/data_rank_{}.json'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span> orient<span class="token operator">=</span><span class="token string">'records'</span><span class="token punctuation">)</span></code></pre></div>
<h3>Complete Data Generation Code</h3>
<p>And that’s it for the data crunching! In the end, the total data generation Python script is only about 25 lines long:</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">import</span> itertools
<span class="token keyword">import</span> collections  
<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> os
  
lInvaders <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">""</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>seq<span class="token punctuation">)</span> <span class="token keyword">for</span> seq <span class="token keyword">in</span> itertools<span class="token punctuation">.</span>product<span class="token punctuation">(</span><span class="token string">'10'</span><span class="token punctuation">,</span> repeat<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token comment"># all binary combinations of 0s and 1s and length 15</span>

<span class="token comment"># now we can see how many invaders have what rank (number of times '1' occurs in a given invader string)</span>
lRanks <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token builtin">len</span><span class="token punctuation">(</span>lInvaders<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    
    lRanks<span class="token punctuation">.</span>append<span class="token punctuation">(</span>lInvaders<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># put blocks string and rank into dataframe</span>
oDataFrame <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'block_string'</span><span class="token punctuation">:</span> lInvaders<span class="token punctuation">,</span> <span class="token string">'rank'</span><span class="token punctuation">:</span> lRanks<span class="token punctuation">}</span><span class="token punctuation">)</span>
oDataFrame <span class="token operator">=</span> oDataFrame<span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span>by<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'rank'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ascending<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
oDataFrame<span class="token punctuation">.</span>to_json<span class="token punctuation">(</span>os<span class="token punctuation">.</span>getcwd<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'/data/all_data.json'</span><span class="token punctuation">,</span> orient<span class="token operator">=</span><span class="token string">'records'</span><span class="token punctuation">)</span>

<span class="token comment"># json for each rank</span>
<span class="token keyword">for</span> i<span class="token punctuation">,</span> x <span class="token keyword">in</span> oDataFrame<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token string">'rank'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    x<span class="token punctuation">.</span>to_json<span class="token punctuation">(</span>os<span class="token punctuation">.</span>getcwd<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'/data/data_rank_{}.json'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span> orient<span class="token operator">=</span><span class="token string">'records'</span><span class="token punctuation">)</span>

<span class="token comment"># print for counts of each rank</span>
<span class="token comment"># counter=collections.Counter(lRanks) </span>
<span class="token comment"># print(counter)</span></code></pre></div>
<p>As always, the most up-to-date version will be <a href="https://github.com/frewinchristopher/invaders-data">on the repository</a>.</p>
<h2>Frontend Development</h2>
<p>So now that I had the data for my Invaders, I needed to create a p5.js canvas for each of the per-rank json files. Let’s get started!</p>
<p>As it always seems to be with these fancy data algorithms, 99% of the ‘magic’ to generate the Invaders happens in a double for loop. In the original Java code it looks like this:</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>sz<span class="token punctuation">;</span>j<span class="token operator">+=</span>step<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  m <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>sz<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>i<span class="token operator">+=</span>step<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    c <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">.5</span><span class="token punctuation">)</span><span class="token operator">?</span> <span class="token number">255</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//black or white?</span>
    col<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span> c<span class="token punctuation">;</span>
    col<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token punctuation">(</span>sz<span class="token operator">-</span>step<span class="token punctuation">)</span><span class="token operator">/</span>m<span class="token punctuation">]</span> <span class="token operator">=</span> c<span class="token punctuation">;</span>
    m<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>and in the converted React-ified JavaScript code:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> sz<span class="token punctuation">;</span> j<span class="token operator">+=</span>step<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> sz <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> k<span class="token operator">+=</span>step<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">.5</span><span class="token punctuation">)</span><span class="token operator">?</span> <span class="token number">255</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//black or white?</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>col<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>c<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>col<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token operator">+</span><span class="token punctuation">(</span>sz<span class="token operator">-</span>step<span class="token punctuation">)</span><span class="token operator">/</span>m<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>c<span class="token punctuation">;</span>
    m<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>For my project, it looks like I only needed to change that <code class="language-text">c =</code> line, the line that defines if the given block in the Invader should be activated or not. Instead of using p5.js’ <code class="language-text">random()</code> function, I would need to load the “block string” for the given index of Invader. But let’s take a step back. </p>
<p>We know we need to somehow add in the JSON data we generated with Python. We <em>could</em> hardcode the correct data file for a sketch of a given Invader rank, but that would involve creating 15 separate <code class="language-text">sketch.jsx</code> files, 15 hard-coded <code class="language-text">prop</code> setups in the <code class="language-text">P5Wrapper/index.js</code>, and <em>finally</em> writing out 15 <P5Wrapper> components in <code class="language-text">App/index.jsx</code>. Yeah… I don’t want to do that because it’s horrible style, would be a nightmare to maintain, and it would be annoying and take forever.</p>
<p>It makes way more sense to pass our data down as a React <code class="language-text">prop</code>. From the boilerplate repository, that <code class="language-text">data</code> prop flows through the following files, like so:</p>
<p><code class="language-text">App/index.jsx -&gt; P5Wrapper/index.jsx -&gt; P5Wrapper/sketch1/index.jsx</code>  </p>
<p>In this case, the name <code class="language-text">sketch1</code> is a bit misleading, since I will create multiple canvases from the single sketch, but I kept the file name conventions from boilerplate repository for anyone who may want to follow along and do the exact same.</p>
<p>So now the data is being passed down as a prop! The sketch object is simply <code class="language-text">s</code>, so we can reference that prop with <code class="language-text">s.props.data</code>. Recalling that the <code class="language-text">data</code> prop is a list, we can write the color line as follows:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> sz<span class="token punctuation">;</span> j<span class="token operator">+=</span>step<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> sz <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> k<span class="token operator">+=</span>step<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span>props<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>number<span class="token punctuation">]</span><span class="token punctuation">.</span>block_string<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">"1"</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">255</span> <span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token comment">// either filled with rank color or white</span>
    position <span class="token operator">=</span> position <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>col<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>c<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>col<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token operator">+</span><span class="token punctuation">(</span>sz<span class="token operator">-</span>step<span class="token punctuation">)</span><span class="token operator">/</span>m<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>c<span class="token punctuation">;</span>
    m<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Where <code class="language-text">this.number</code> is a property for which index a given Invader is (1 to 32,767) which is provided in an extended version of the constructor in the <code class="language-text">Invader</code> class. If you’re interested, the number property is set by creating invaders in a double for loop over all available x and y:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token operator">...</span>
<span class="token keyword">let</span> number <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token operator">...</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> y <span class="token operator">=</span> padding<span class="token punctuation">;</span> y <span class="token operator">&lt;</span> s<span class="token punctuation">.</span>height<span class="token operator">-</span><span class="token number">2</span><span class="token operator">*</span>padding<span class="token punctuation">;</span> y <span class="token operator">+=</span> <span class="token punctuation">(</span>sz<span class="token operator">+</span>padding<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> x <span class="token operator">=</span> padding<span class="token punctuation">;</span> x <span class="token operator">&lt;</span> s<span class="token punctuation">.</span>width<span class="token operator">-</span><span class="token number">2</span><span class="token operator">*</span>padding<span class="token punctuation">;</span> x <span class="token operator">+=</span> <span class="token punctuation">(</span>sz<span class="token operator">+</span>padding<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token keyword">if</span> <span class="token punctuation">(</span>number <span class="token operator">&lt;</span> iMaxInvaders<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> invader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Invader</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> number<span class="token punctuation">)</span><span class="token punctuation">;</span>
      number <span class="token operator">=</span> number <span class="token operator">+</span> <span class="token number">1</span>
      invaders<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>invader<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>The Invader class itself is also refactored from the example code, but I’ll leave look at that in detail to developers interested to look into the specifics of <code class="language-text">P5Wrapper/sketch1/index.js</code>!</p>
<h3>Color By Rank</h3>
<p>I extended this line even further, that instead of painting the Invader blocks with black or white, the color is based on the Invader’s rank. So instead of hardcoding <code class="language-text">255</code> in the ternary statement, we can use the rank portion oft he data, and replace it with <code class="language-text">aColors[s.props.data[this.number].rank - 1]</code> which we’ve already generated from the Python / data side of things! So the final implementation in the ‘magic’ portion of the code looks like this:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> sz<span class="token punctuation">;</span> j<span class="token operator">+=</span>step<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> sz <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> k<span class="token operator">+=</span>step<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span>props<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>number<span class="token punctuation">]</span><span class="token punctuation">.</span>block_string<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">"1"</span><span class="token punctuation">)</span> <span class="token operator">?</span> aColors<span class="token punctuation">[</span>s<span class="token punctuation">.</span>props<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>number<span class="token punctuation">]</span><span class="token punctuation">.</span>rank <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">:</span> oBackgroundColor<span class="token punctuation">;</span>  <span class="token comment">// either filled with rank color or white</span>
    position <span class="token operator">=</span> position <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>col<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>c<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>col<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token operator">+</span><span class="token punctuation">(</span>sz<span class="token operator">-</span>step<span class="token punctuation">)</span><span class="token operator">/</span>m<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>c<span class="token punctuation">;</span>
    m<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>and <code class="language-text">aColors</code> is a constant array of <code class="language-text">s.color</code> objects, defined in directly in the sketch file <code class="language-text">P5Wrapper/sketch1/index.jsx</code>: </p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">const aColors = [s.color(132, 94, 194), s.color(214, 93, 177), s.color(255, 111, 145), s.color(255, 150, 113), s.color(255, 199, 95), s.color(249, 248, 113), s.color(44, 115, 210), s.color(0, 142, 155), s.color(0, 143, 122), s.color(155, 222, 126), s.color(75, 188, 142), s.color(3, 149, 144), s.color(28, 110, 125), s.color(47, 82, 107), s.color(26, 36, 120)]</code></pre></div>
<p>Again, I will leave that to developers interested in looking at the code to examine exactly what is going on in detail.</p>
<h3>The Last p5.js &#x3C;-> React Caveat</h3>
<p>Now that we’ve got our pre-generated data fed into our, . p5.js does this by using a specific ID per canvas. So, our final code will be looping over all ranks in our <code class="language-text">App/index.jsx</code> file, and generating an ID that the canvas can use for the given rank. That code is at the top of the <code class="language-text">render()</code> method and just before the <code class="language-text">return(...)</code> statement:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> aElements <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> canvasWidth <span class="token operator">=</span> window<span class="token punctuation">.</span>innerWidth <span class="token operator">></span> <span class="token number">690</span> <span class="token operator">?</span> <span class="token number">690</span> <span class="token punctuation">:</span> window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">;</span> <span class="token comment">// start width calculation for canvases at 690px, otherwise screen width</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">15</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> canvasId <span class="token operator">=</span> <span class="token string">"canvas"</span> <span class="token operator">+</span> i<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"-container"</span><span class="token punctuation">;</span>
    aElements<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div key<span class="token operator">=</span><span class="token punctuation">{</span>i<span class="token punctuation">}</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>h3<span class="token operator">></span>Invaders <span class="token keyword">of</span> Rank <span class="token punctuation">{</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">}</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>aData<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\B(?=(\d{3})+(?!\d))/g</span><span class="token punctuation">,</span> <span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">}</span> Total<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">></span>
        <span class="token operator">&lt;</span>P5Wrapper
            p5Props<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> data<span class="token punctuation">:</span> aData<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> canvasId<span class="token punctuation">,</span> canvasWidth <span class="token punctuation">}</span><span class="token punctuation">}</span>
            onSetAppState<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onSetAppState<span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">...</span>
  <span class="token punctuation">)</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span></code></pre></div>
<p>and then we can reference that same ID in the <code class="language-text">componentDidMount</code> method of the p5.js driven component, <code class="language-text">P5Wrapper/index.jsx</code>:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>canvas1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">window<span class="token punctuation">.</span>p5</span><span class="token punctuation">(</span>sketch1<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>p5Props<span class="token punctuation">.</span>canvasId<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>canvas1<span class="token punctuation">.</span>props <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>p5Props
    <span class="token keyword">this</span><span class="token punctuation">.</span>canvas1<span class="token punctuation">.</span>onSetAppState <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>onSetAppState
<span class="token punctuation">}</span></code></pre></div>
<p>and</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token operator">&lt;</span>div
    id<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>p5Props<span class="token punctuation">.</span>canvasId<span class="token punctuation">}</span>
    style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> width<span class="token punctuation">:</span> <span class="token string">"100%"</span><span class="token punctuation">,</span> textAlign<span class="token punctuation">:</span> <span class="token string">"center"</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">></span></code></pre></div>
<p>further down in the main <code class="language-text">&lt;div&gt;</code> of the <code class="language-text">render()</code> method. So, in the end, we are rendering 15 separate canvases, totalling up to our target of 32,767, but without hardcoding anything or maintaining 15 separate components!</p>
<p>Whew… we’re done! That completes the deep-dive into code on this post!</p>
<h3>Give it a Try Yourself!</h3>
<p>If you want to give it a shot yourself, you may want to add your own new columns from the (I’m sure a ‘complexity’ or ‘sparsity’ value could be generated for each Inavder - that would be another way to color Invaders! It might also be fun to look at invaders of different sizes, such as 6 blocks that are partially reflected, forming a 3 x 3 block, or 8 blocks partially reflected, forming a 4 x 4 block, and so on!)</p>
<h2>Links to the Code and Site</h2>
<p>As always when I make big posts like these, the links to the repositories can be found below.</p>
<h3>Backend Code</h3>
<p>The backend code utilizes Python’s Pandas and JSON modules to generate the JSON per rank:</p>
<p><a href="https://github.com/frewinchristopher/invaders-data">https://github.com/frewinchristopher/invaders-data</a></p>
<h3>Frontend Code</h3>
<p>The front end code is a React app bootstrapped by <code class="language-text">create-react-app</code>, using p5.js and served statically on <code class="language-text">Node.js</code> with <code class="language-text">express</code>:</p>
<p><a href="https://github.com/frewinchristopher/invaders">https://github.com/frewinchristopher/invaders</a></p>
<h3>Final Site</h3>
<p>As stated way above, the final site can be found here:</p>
<p><a href="https://chrisfrew.in/invaders">https://chrisfrew.in/invaders</a></p>
<h2>Thanks!</h2>
<p>As always, thanks for reading and I hoped you enjoyed this in-depth post. Get out there and start generating your own spin on Invaders!</p>
<p>I also think this <strong>Data Challenge!</strong><sup>TM</sup> theme will return to my blog. It helps me develop as a software engineer, and makes for really interesting posts. I’ll be making another <strong>Data Challenge!</strong><sup>TM</sup> for sure, as soon as I find the next project enticing enough to tackle!</p>
<p>Cheers! 🍺</p>
<p>-Chris</p>
<h2>Footnotes</h2>
<div id="footnote-1">
1. Cuz, cmon, who <i>doesn't</i> do things in Javascript these days? 😂 (Yes, a bit of sarcasm, but honestly... it's been fairly true - we'll see what happens in 2019)
</div>
<div id="footnote-2">
<br/><br/>
2. Prefer to read on Medium? No you don't. There's no code highlighting, superscript, or awesome footnotes. (Like these 😉)
</div>
<br/><br/></section><hr style="margin-bottom:1.625rem"/><footer><div style="display:flex;margin-bottom:4.0625rem;position:relative;z-index:10"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:50px;height:50px;margin-right:0.8125rem;margin-bottom:0;min-width:50px;border-radius:100%"><img src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAAIDAAAAAAAAAAAAAAAAAAMEAQIF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAQIA/9oADAMBAAIQAxAAAAG3DY5430BJ8E1uDf/EABwQAQABBQEBAAAAAAAAAAAAAAECAAMSEyIQIf/aAAgBAQABBQLZ8t3c5dVN5trB30hIwHz/xAAXEQADAQAAAAAAAAAAAAAAAAAAAREQ/9oACAEDAQE/AYiLf//EABcRAAMBAAAAAAAAAAAAAAAAAAABERD/2gAIAQIBAT8BpXv/xAAdEAACAgEFAAAAAAAAAAAAAAAAARAREiExMmGR/9oACAEBAAY/AuQ1bh0N4+M2NRdR/8QAGhABAQEAAwEAAAAAAAAAAAAAAREAMUFh8f/aAAgBAQABPyETXTzKAhyKaLtMhYD1dCnnimD96INM1E8ab//aAAwDAQACAAMAAAAQf99D/8QAFxEAAwEAAAAAAAAAAAAAAAAAAREgIf/aAAgBAwEBPxAK2D//xAAVEQEBAAAAAAAAAAAAAAAAAAARIP/aAAgBAgEBPxBw/wD/xAAfEAEAAgIBBQEAAAAAAAAAAAABABEhMVFBYXGBkfD/2gAIAQEAAT8QfEUFctRs8MRA48wBb2jUtiJS0uJty9aSsq/txBdyKjahpjdlmDp8lOA9T//Z" alt="Chris Frewin" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms;border-radius:50%"/><noscript><picture><source srcset="/static/184fa5bf6a2882dd8fff63606854db72/30d3a/defaultprofilepicture.jpg 1x,
/static/184fa5bf6a2882dd8fff63606854db72/66c95/defaultprofilepicture.jpg 1.5x,
/static/184fa5bf6a2882dd8fff63606854db72/aacbd/defaultprofilepicture.jpg 2x" /><img loading="lazy" width="50" height="50" srcset="/static/184fa5bf6a2882dd8fff63606854db72/30d3a/defaultprofilepicture.jpg 1x,
/static/184fa5bf6a2882dd8fff63606854db72/66c95/defaultprofilepicture.jpg 1.5x,
/static/184fa5bf6a2882dd8fff63606854db72/aacbd/defaultprofilepicture.jpg 2x" src="/static/184fa5bf6a2882dd8fff63606854db72/30d3a/defaultprofilepicture.jpg" alt="Chris Frewin" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><p>Hi, I&#x27;m <strong>Chris Frewin</strong>, I&#x27;m going to be COURSE MASTER for 2020 (I hope)!<sup><sup><sup>please help me</sup></sup></sup><br/><br/>I&#x27;m an ex-mechanical engineer gone full-remote, full-stack application software engineer, and a hobbyist machine learning/natural language processing developer.<!-- --> <br/><br/>If I&#x27;m not building software, I&#x27;ll be found hiking, skiing, taking pictures, spoiling homebrew, or creating music and art. I (mostly) live in Austria.<br/><br/><a href="https://instagram.com/_chrisfrewin_">You can follow me on Instagram.</a><br/><br/>or,<br/><br/><a href="mailto:frewin.christopher@gmail.com">Send me an email.</a><br/><br/><br/>I&#x27;m a proud member of the <a target="_blank" rel="noopener noreferrer" href="https://dev.to/frewinchristopher">DEV Community</a>, and <a target="_blank" rel="noopener noreferrer" href="https://producthunt.com/@galt_">Product Hunt&#x27;s Makers Community</a>!<br/><br/><span>Sites and products I&#x27;ve built solo or co-developed:</span><br/><br/><a href="https://rœst.com" target="_blank" rel="noopener noreferrer">rœst.com</a> / <a href="https://rœst.com" target="_blank" rel="noopener noreferrer">rœst.coffee</a> (Solo)<br/><a href="https://sirenapparel.us" target="_blank" rel="noopener noreferrer">sirenapparel.us</a> (Solo)<br/><a href="https://chrisfrew.in/nlp-champs" target="_blank" rel="noopener noreferrer">chrisfrew.in/nlp-champs (formerly nlp-champs.com)</a> (Solo)<br/><a href="https://seelengeflüster-tirol.com" target="_blank" rel="noopener noreferrer">seelengeflüster-tirol.com</a> (Solo)<br/><a href="https://wallstreetbetswally.github.io" target="_blank" rel="noopener noreferrer">wallstreetbetswally.github.io</a> (Solo)<br/><a href="https://chrisfrew.in/invaders" target="_blank" rel="noopener noreferrer">chrisfrew.in/invaders</a> (Solo)<br/><a href="https://chrisfrew.in/portfolio" target="_blank" rel="noopener noreferrer">chrisfrew.in/portfolio</a> (Solo)<br/><a href="https://risch-shoes.com" target="_blank" rel="noopener noreferrer">risch-shoes.com</a> (Co-Developed)</p></div></footer></article><nav><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/obligatory-goals-for-2019-post/">← <!-- -->Obligatory &#x27;Goals for 2019&#x27; Post</a></li><li><a rel="next" href="/i-quit-learning-programming-and-being-a-creative/">I quit Learning, Writing, and Being a Creative.<!-- --> →</a></li></ul></nav></main><footer><h5>© <!-- -->2020<!-- --> chrisfrew.in<br/>Really like the blog? You can support it:<br/><br/><style>.bmc-button img{width: 27px !important;margin-bottom: 3px !important;box-shadow: none !important;border: none !important;vertical-align: middle !important;}.bmc-button{line-height: 36px !important;height:37px !important;text-decoration: none !important;display:inline-block !important;color:#000000 !important;background-color:#FFDD00 !important;border-radius: 3px !important;border: 1px solid transparent !important;padding: 1px 9px !important;font-size: 23px !important;letter-spacing: 0.6px !important;box-shadow: 0px 1px 2px rgba(190, 190, 190, 0.5) !important;-webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;margin: 0 auto !important;font-family:'Cookie', cursive !important;-webkit-box-sizing: border-box !important;box-sizing: border-box !important;-o-transition: 0.3s all linear !important;-webkit-transition: 0.3s all linear !important;-moz-transition: 0.3s all linear !important;-ms-transition: 0.3s all linear !important;transition: 0.3s all linear !important;}.bmc-button:hover, .bmc-button:active, .bmc-button:focus {-webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;text-decoration: none !important;box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;opacity: 0.85 !important;color:#000000 !important;}</style><link href="https://fonts.googleapis.com/css?family=Cookie" rel="stylesheet"/><a class="bmc-button" target="_blank" rel="noopener noreferrer" href="https://www.buymeacoffee.com/chrisfrewin"><img src="https://www.buymeacoffee.com/assets/img/BMC-btn-logo.svg" alt="Buy me a cappucino"/><span style="margin-left:5px">Buy me a cappucino</span></a><br/></h5></footer><div class="background-mask"></div></div></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-63301492-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/data-challenge-rendering-all-32767-invaders/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-4c82f1120542748bc39c.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-2642abeb110b544c12ef.js"],"component---src-pages-404-js":["/component---src-pages-404-js-ba8fab707f547b8d2140.js"],"component---src-pages-index-js":["/component---src-pages-index-js-511e09b2f0f1386b8494.js"]};/*]]>*/</script><script src="/webpack-runtime-4cd14b33a27ff34dca30.js" async=""></script><script src="/styles-5d031bf83756cf4dd9d4.js" async=""></script><script src="/app-4c82f1120542748bc39c.js" async=""></script><script src="/commons-aacedbba520b31cce423.js" async=""></script><script src="/component---src-templates-blog-post-js-2642abeb110b544c12ef.js" async=""></script></body></html>