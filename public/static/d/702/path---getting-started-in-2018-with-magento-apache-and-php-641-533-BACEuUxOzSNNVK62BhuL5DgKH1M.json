{"data":{"site":{"siteMetadata":{"title":"Chris Frewin's Full Stack Blog.","author":"Chris Frewin"}},"markdownRemark":{"id":"5fa83ad3-167c-5eaf-95c1-67f4c35938b3","excerpt":"Originally published here, also  published on Medium. So, I started working on a new Magento project with my boss this past weekend, and…","html":"<p>Originally published here, also <a href=\"https://medium.com/@frewin.christopher/run-an-existing-magento-2-app-for-development-with-homebrew-apache-on-macos-in-2018-2019-9d40bc1e823a\"><em>published on Medium.</em></a></p>\n<p>So, I started working on a new Magento project with my boss this past weekend, and sitting together at a café, it took us about 5 hours to get the site fully working for development. 😂 😂 😂 While Magento provides a lot of powerful tools for building e-commerce sites, it’s a beast to get started up, especially if one of you has only done it on Windows, and one of you has a Mac. 😉 I documented everything we sludged through in those 5 hours, and this post was born!</p>\n<p>This is a tutorial that boils down the steps that worked for us (trust me when I say there were many steps we took that <em>didn’t</em> work), so hopefully it can take <em>you</em> only 30 minutes to an hour 😄</p>\n<h2>mcrypt and intl PHP Extensions</h2>\n<p>If you follow some standard Apache PHP 7.1 on-boarding or getting started guide, you will see that everything goes smoothly, <em>until</em> you try to install Magento dependecies with <code class=\"language-text\">composer update</code>, and find that Magento needs the <code class=\"language-text\">mcrypt</code> and <code class=\"language-text\">intl</code> PHP extensions:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-text\"><code class=\"language-text\">Your requirements could not be resolved to an installable set of packages.\n  Problem 1\n    - magento/product-community-edition 2.2.5 requires ext-mcrypt * -&gt; the requested PHP extension mcrypt is missing from your system.\n    - magento/product-community-edition 2.2.5 requires ext-intl * -&gt; the requested PHP extension intl is missing from your system.\n    - Installation request for magento/product-community-edition 2.2.5 -&gt; satisfiable by magento/product-community-edition[2.2.5].</code></pre>\n      </div>\n<p>The MacOS system version of PHP doesn’t ship with these! 😱 😱 😱</p>\n<p>Luckily, the Homebrew version does!</p>\n<h2>Homebrew to the Rescue</h2>\n<p>I’m going to show you how to get up and running developing your Magento app using Homebrew packages. Note that the config files and start commands for Apache, as well as the path to the desired PHP location, are different than the standard system apache commands!</p>\n<p>So, before we do anything with brew, we need to shut down the system instance of Apache (mac normally ships with Apache, so let’s do this now):</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-text\"><code class=\"language-text\">sudo launchctl unload -w /System/Library/LaunchDaemons/org.apache.httpd.plist</code></pre>\n      </div>\n<p>Now we will install the the Homebrew versions of Apache and PHP. And while we’re at it, if you don’t have it installed already, we will also need <code class=\"language-text\">composer</code>, the package manager for Magento, so let’s just tack that on the end as well:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-text\"><code class=\"language-text\">brew install php71 httpd composer</code></pre>\n      </div>\n<h2>Edits to Homebrew’s Apache httpd.conf</h2>\n<p>Edit the Homebrew Apache .conf file with:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-text\"><code class=\"language-text\">sudo nano /usr/local/etc/httpd/httpd.conf</code></pre>\n      </div>\n<p>Now we need to make some changes to <code class=\"language-text\">httpd.conf</code>.</p>\n<p>Ensure that the PHP module points to the Homebrew version of PHP (not the system version, which doesn’t have <code class=\"language-text\">mcrypt</code> and <code class=\"language-text\">intl</code>)! and not commented out:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-text\"><code class=\"language-text\">LoadModule php7_module /usr/local/opt/php@7.1/lib/httpd/modules/libphp7.so</code></pre>\n      </div>\n<p>and also add:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-text\"><code class=\"language-text\">&lt;FilesMatch \\.php$&gt;\n        SetHandler application/x-httpd-php\n&lt;/FilesMatch&gt;</code></pre>\n      </div>\n<p>And then, on the second DocumentRoot / Directory block (don’t mess with the first one!), change the path and point it to your root of your Magento project:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-text\"><code class=\"language-text\">DocumentRoot &quot;/Your/Awesome/Magento/Project&quot;\n&lt;Directory &quot;/Your/Awesome/Magento/Project&quot;&gt;\n...</code></pre>\n      </div>\n<p>A Magento app may also need AllowOverride rule set to All inside that <code class=\"language-text\">&lt;Directory&gt;</code> block:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-text\"><code class=\"language-text\">AllowOverride All</code></pre>\n      </div>\n<p>And also, for development, the <code class=\"language-text\">rewrite_module</code> may also need to be activated (if you see you are getting a lot of 404 not found errors on <code class=\"language-text\">localhost:8080</code>)</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-text\"><code class=\"language-text\">LoadModule rewrite_module lib/httpd/modules/mod_rewrite.so</code></pre>\n      </div>\n<p>Great. That should be all thats needed for apache to run a Magento app. Now we need to install Magento dependencies using composer, which we installed in the very first step of this tutorial. Navigate to your Magento project root and issue:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-text\"><code class=\"language-text\">composer update</code></pre>\n      </div>\n<p>Then it may say that you need to login. If you don’t have a Magento account yet, head to their website and sign up. Go right ahead and create a new public / private key pair for a project (at <a href=\"https://marketplace.magento.com/customer/accessKeys/\">https://marketplace.magento.com/customer/accessKeys/</a>) - Make sure it is for the correct version of Magento. </p>\n<p>\n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 31.132075471698116%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsSAAALEgHS3X78AAAA90lEQVQY052RPW+DMBCG+dsdOuc/dKw6VmnxgDp2YEvIUqlSEzakQCgYAwV/Yb81RlFTKerQkx7dl+7VnR1YKWD6BnbSGKWGVBr/NWstAtNTGJpj9uMpg+wZrGtO0/SD1r/QV3JjzCLIX+4wPNxCPK4g7m+g3l5xZF/I8yPKslygFBVr8cmY88z7uutQtS1qR9kwdMOwCJ7XHV1BK3X1FOHql0jHKISPuZQ+PxOs1094DgkobbA/HLDZbpEkCZLdzsfvH3vIeegC5QarqsLglqBu+yzLwDmHcqcHtK59c7Y0TUHCEFEUeQghiOP4z4+YRYui8G892zdArcjeEPvm+gAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Magento Account Keys\"\n        title=\"\"\n        src=\"/static/625c8f4cc2153a4427b8e98d214ccc7a/a408b/magento-account-keys.png\"\n        srcset=\"/static/625c8f4cc2153a4427b8e98d214ccc7a/4eabf/magento-account-keys.png 148w,\n/static/625c8f4cc2153a4427b8e98d214ccc7a/5a375/magento-account-keys.png 295w,\n/static/625c8f4cc2153a4427b8e98d214ccc7a/a408b/magento-account-keys.png 590w,\n/static/625c8f4cc2153a4427b8e98d214ccc7a/9a0cc/magento-account-keys.png 885w,\n/static/625c8f4cc2153a4427b8e98d214ccc7a/a1bb1/magento-account-keys.png 1166w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  </p>\n<p>We are going to use these keys right away, because, when the terminal prompts you for first your ‘username’, this is actually your public key from your Magento account, NOT your Magento email or username. Your ‘password’ prompt in the terminal is likewise your private key, NOT your Magento login password. </p>\n<p>You’ll know you’ve messed up the login to composer if you are getting a big error that looks like this:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-text\"><code class=\"language-text\"> [Composer\\Downloader\\TransportException]                                     \n  Invalid credentials for &#39;https://repo.magento.com/packages.json&#39;, aborting.</code></pre>\n      </div>\n<p>In my opinion this is pretty misleading and should really be changed by the Magento Team.</p>\n<p>In the least, Magento will prompt in the terminal if you would like to save those credentials, so you only have to do it once:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-text\"><code class=\"language-text\">Do you want to store credentials for repo.magento.com in /Users/chris/.composer/auth.json ? [Yn]</code></pre>\n      </div>\n<p>(I said <code class=\"language-text\">Y</code> 😄)</p>\n<p>Check that everything from composer update looks okay. Everything should be successful, at the worst some warnings at the end.</p>\n<h2>Checking the Site and Additional Magento Commands</h2>\n<p>So again, if you haven’t already, start with:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-text\"><code class=\"language-text\">composer update</code></pre>\n      </div>\n<p>then enable all the modules:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-text\"><code class=\"language-text\">bin/magento module:enable --all</code></pre>\n      </div>\n<p>Then compile the modules:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-text\"><code class=\"language-text\">bin/magento setup:di:compile</code></pre>\n      </div>\n<p>If you get a complaint about memory, run <code class=\"language-text\">bin/magento</code> with the PHP memory option:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-text\"><code class=\"language-text\">php -d memory_limit=512M bin/magento setup:di:compile</code></pre>\n      </div>\n<p>To allot 512 Mb to the process (you may find you need more)</p>\n<p>Finally, we can navigate to the site. As we left the Homebrew defaults in our apache config, your site should be at localhost:8080. (System Apache is at port 80, but we deactivated it anyway). Magento may then complain that you need to upgrade your modules, something like this:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-text\"><code class=\"language-text\">1 exception(s):\nException #0 (Magento\\Framework\\Exception\\LocalizedException): Please upgrade your database: Run &quot;bin/magento setup:upgrade&quot; from the Magento root directory.\nThe following modules are outdated:\n[redacted] schema: current version - 1.0.7, required version - 1.0.8\n[redacted] data: current version - 1.0.7, required version - 1.0.8</code></pre>\n      </div>\n<p>Just do what it says with:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-text\"><code class=\"language-text\">bin/magento setup:upgrade</code></pre>\n      </div>\n<p>In your root directory. That’s it! You should be all set to get developing with your Magento site on localhost:8080!</p>\n<h2>Additional Troubleshooting and  Useful Info</h2>\n<p>If, after all this config, you are getting something similar to this error on <code class=\"language-text\">localhost:8080</code>:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-text\"><code class=\"language-text\">Authentication plugin &#39;caching_sha2_password&#39; cannot be loaded: dlopen(/usr/local/mysql/lib/plugin/caching_sha2_password.so, 2): image not found</code></pre>\n      </div>\n<p>The SQL user with which Magento interacts with its databases needs to use the legacy version of logging in. If you’ve created your user with MySQL workbench for example, the default login setting may instead be with a cached sha2 password. We can change this for our SQL user with (within a SQL terminal):</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-text\"><code class=\"language-text\">ALTER USER &#39;putYourMagentoSQLUsernameHereIncludingQuotes&#39;@&#39;localhost&#39; IDENTIFIED WITH mysql_native_password BY &#39;putYourMagentoSQLUserPasswordHereIncludingQuotes&#39;;</code></pre>\n      </div>\n<p>If you are getting some weird errors about the generated content, you may need to clean the cache, delete <code class=\"language-text\">generated/</code> and <code class=\"language-text\">var/</code> folders, and change permissions on them (this would be in the root of your Magento project):</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-text\"><code class=\"language-text\">bin/magento cache:clean &amp;&amp; rm -r ./generated/ &amp;&amp; mkdir ./generated &amp;&amp; chmod -R 777 ./generated &amp;&amp; rm -r ./var/ &amp;&amp; mkdir ./var &amp;&amp; chmod -R 777 ./var</code></pre>\n      </div>\n<h2>Httpd.conf for Reference</h2>\n<p>For reference, here is the entirety of my <code class=\"language-text\">httpd.conf</code> file that is currently working (I have changed only the folder name to respect the name of the project client):</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-text\"><code class=\"language-text\">#\n# This is the main Apache HTTP server configuration file.  It contains the\n# configuration directives that give the server its instructions.\n# See &lt;URL:http://httpd.apache.org/docs/2.4/&gt; for detailed information.\n# In particular, see \n# &lt;URL:http://httpd.apache.org/docs/2.4/mod/directives.html&gt;\n# for a discussion of each configuration directive.\n#\n# Do NOT simply read the instructions in here without understanding\n# what they do.  They&#39;re here only as hints or reminders.  If you are unsure\n# consult the online docs. You have been warned.  \n#\n# Configuration and logfile names: If the filenames you specify for many\n# of the server&#39;s control files begin with &quot;/&quot; (or &quot;drive:/&quot; for Win32), the\n# server will use that explicit path.  If the filenames do *not* begin\n# with &quot;/&quot;, the value of ServerRoot is prepended -- so &quot;logs/access_log&quot;\n# with ServerRoot set to &quot;/usr/local/apache2&quot; will be interpreted by the\n# server as &quot;/usr/local/apache2/logs/access_log&quot;, whereas &quot;/logs/access_log&quot; \n# will be interpreted as &#39;/logs/access_log&#39;.\n\n#\n# ServerRoot: The top of the directory tree under which the server&#39;s\n# configuration, error, and log files are kept.\n#\n# Do not add a slash at the end of the directory path.  If you point\n# ServerRoot at a non-local disk, be sure to specify a local disk on the\n# Mutex directive, if file-based mutexes are used.  If you wish to share the\n# same ServerRoot for multiple httpd daemons, you will need to change at\n# least PidFile.\n#\nServerRoot &quot;/usr/local/opt/httpd&quot;\n\n#\n# Mutex: Allows you to set the mutex mechanism and mutex file directory\n# for individual mutexes, or change the global defaults\n#\n# Uncomment and change the directory if mutexes are file-based and the default\n# mutex file directory is not on a local disk or is not appropriate for some\n# other reason.\n#\n# Mutex default:/usr/local/var/run/httpd\n\n#\n# Listen: Allows you to bind Apache to specific IP addresses and/or\n# ports, instead of the default. See also the &lt;VirtualHost&gt;\n# directive.\n#\n# Change this to Listen on specific IP addresses as shown below to \n# prevent Apache from glomming onto all bound IP addresses.\n#\n#Listen 12.34.56.78:80\nListen 8080\n\n#\n# Dynamic Shared Object (DSO) Support\n#\n# To be able to use the functionality of a module which was built as a DSO you\n# have to place corresponding `LoadModule&#39; lines at this location so the\n# directives contained in it are actually available _before_ they are used.\n# Statically compiled modules (those listed by `httpd -l&#39;) do not need\n# to be loaded here.\n#\n# Example:\n# LoadModule foo_module modules/mod_foo.so\n#\n#LoadModule mpm_event_module lib/httpd/modules/mod_mpm_event.so\nLoadModule mpm_prefork_module lib/httpd/modules/mod_mpm_prefork.so\n#LoadModule mpm_worker_module lib/httpd/modules/mod_mpm_worker.so\nLoadModule authn_file_module lib/httpd/modules/mod_authn_file.so\n#LoadModule authn_dbm_module lib/httpd/modules/mod_authn_dbm.so\n#LoadModule authn_anon_module lib/httpd/modules/mod_authn_anon.so\n#LoadModule authn_dbd_module lib/httpd/modules/mod_authn_dbd.so\n#LoadModule authn_socache_module lib/httpd/modules/mod_authn_socache.so\nLoadModule authn_core_module lib/httpd/modules/mod_authn_core.so\nLoadModule authz_host_module lib/httpd/modules/mod_authz_host.so\nLoadModule authz_groupfile_module lib/httpd/modules/mod_authz_groupfile.so\nLoadModule authz_user_module lib/httpd/modules/mod_authz_user.so\n#LoadModule authz_dbm_module lib/httpd/modules/mod_authz_dbm.so\n#LoadModule authz_owner_module lib/httpd/modules/mod_authz_owner.so\n#LoadModule authz_dbd_module lib/httpd/modules/mod_authz_dbd.so\nLoadModule authz_core_module lib/httpd/modules/mod_authz_core.so\n#LoadModule authnz_fcgi_module lib/httpd/modules/mod_authnz_fcgi.so\nLoadModule access_compat_module lib/httpd/modules/mod_access_compat.so\nLoadModule auth_basic_module lib/httpd/modules/mod_auth_basic.so\n#LoadModule auth_form_module lib/httpd/modules/mod_auth_form.so\n#LoadModule auth_digest_module lib/httpd/modules/mod_auth_digest.so\n#LoadModule allowmethods_module lib/httpd/modules/mod_allowmethods.so\n#LoadModule file_cache_module lib/httpd/modules/mod_file_cache.so\n#LoadModule cache_module lib/httpd/modules/mod_cache.so\n#LoadModule cache_disk_module lib/httpd/modules/mod_cache_disk.so\n#LoadModule cache_socache_module lib/httpd/modules/mod_cache_socache.so\n#LoadModule socache_shmcb_module lib/httpd/modules/mod_socache_shmcb.so\n#LoadModule socache_dbm_module lib/httpd/modules/mod_socache_dbm.so\n#LoadModule socache_memcache_module lib/httpd/modules/mod_socache_memcache.so\n#LoadModule watchdog_module lib/httpd/modules/mod_watchdog.so\n#LoadModule macro_module lib/httpd/modules/mod_macro.so\n#LoadModule dbd_module lib/httpd/modules/mod_dbd.so\n#LoadModule dumpio_module lib/httpd/modules/mod_dumpio.so\n#LoadModule echo_module lib/httpd/modules/mod_echo.so\n#LoadModule buffer_module lib/httpd/modules/mod_buffer.so\n#LoadModule data_module lib/httpd/modules/mod_data.so\n#LoadModule ratelimit_module lib/httpd/modules/mod_ratelimit.so\nLoadModule reqtimeout_module lib/httpd/modules/mod_reqtimeout.so\n#LoadModule ext_filter_module lib/httpd/modules/mod_ext_filter.so\n#LoadModule request_module lib/httpd/modules/mod_request.so\n#LoadModule include_module lib/httpd/modules/mod_include.so\nLoadModule filter_module lib/httpd/modules/mod_filter.so\n#LoadModule reflector_module lib/httpd/modules/mod_reflector.so\n#LoadModule substitute_module lib/httpd/modules/mod_substitute.so\n#LoadModule sed_module lib/httpd/modules/mod_sed.so\n#LoadModule charset_lite_module lib/httpd/modules/mod_charset_lite.so\n#LoadModule deflate_module lib/httpd/modules/mod_deflate.so\n#LoadModule xml2enc_module lib/httpd/modules/mod_xml2enc.so\n#LoadModule proxy_html_module lib/httpd/modules/mod_proxy_html.so\n#LoadModule brotli_module lib/httpd/modules/mod_brotli.so\nLoadModule mime_module lib/httpd/modules/mod_mime.so\nLoadModule log_config_module lib/httpd/modules/mod_log_config.so\n#LoadModule log_debug_module lib/httpd/modules/mod_log_debug.so\n#LoadModule log_forensic_module lib/httpd/modules/mod_log_forensic.so\n#LoadModule logio_module lib/httpd/modules/mod_logio.so\nLoadModule env_module lib/httpd/modules/mod_env.so\n#LoadModule mime_magic_module lib/httpd/modules/mod_mime_magic.so\n#LoadModule expires_module lib/httpd/modules/mod_expires.so\nLoadModule headers_module lib/httpd/modules/mod_headers.so\n#LoadModule usertrack_module lib/httpd/modules/mod_usertrack.so\n#LoadModule unique_id_module lib/httpd/modules/mod_unique_id.so\nLoadModule setenvif_module lib/httpd/modules/mod_setenvif.so\nLoadModule version_module lib/httpd/modules/mod_version.so\n#LoadModule remoteip_module lib/httpd/modules/mod_remoteip.so\n#LoadModule proxy_module lib/httpd/modules/mod_proxy.so\n#LoadModule proxy_connect_module lib/httpd/modules/mod_proxy_connect.so\n#LoadModule proxy_ftp_module lib/httpd/modules/mod_proxy_ftp.so\n#LoadModule proxy_http_module lib/httpd/modules/mod_proxy_http.so\n#LoadModule proxy_fcgi_module lib/httpd/modules/mod_proxy_fcgi.so\n#LoadModule proxy_scgi_module lib/httpd/modules/mod_proxy_scgi.so\n#LoadModule proxy_uwsgi_module lib/httpd/modules/mod_proxy_uwsgi.so\n#LoadModule proxy_fdpass_module lib/httpd/modules/mod_proxy_fdpass.so\n#LoadModule proxy_wstunnel_module lib/httpd/modules/mod_proxy_wstunnel.so\n#LoadModule proxy_ajp_module lib/httpd/modules/mod_proxy_ajp.so\n#LoadModule proxy_balancer_module lib/httpd/modules/mod_proxy_balancer.so\n#LoadModule proxy_express_module lib/httpd/modules/mod_proxy_express.so\n#LoadModule proxy_hcheck_module lib/httpd/modules/mod_proxy_hcheck.so\n#LoadModule session_module lib/httpd/modules/mod_session.so\n#LoadModule session_cookie_module lib/httpd/modules/mod_session_cookie.so\n#LoadModule session_crypto_module lib/httpd/modules/mod_session_crypto.so\n#LoadModule session_dbd_module lib/httpd/modules/mod_session_dbd.so\n#LoadModule slotmem_shm_module lib/httpd/modules/mod_slotmem_shm.so\n#LoadModule slotmem_plain_module lib/httpd/modules/mod_slotmem_plain.so\n#LoadModule ssl_module lib/httpd/modules/mod_ssl.so\n#LoadModule dialup_module lib/httpd/modules/mod_dialup.so\n#LoadModule http2_module lib/httpd/modules/mod_http2.so\n#LoadModule md_module lib/httpd/modules/mod_md.so\n#LoadModule lbmethod_byrequests_module lib/httpd/modules/mod_lbmethod_byrequests.so\n#LoadModule lbmethod_bytraffic_module lib/httpd/modules/mod_lbmethod_bytraffic.so\n#LoadModule lbmethod_bybusyness_module lib/httpd/modules/mod_lbmethod_bybusyness.so\n#LoadModule lbmethod_heartbeat_module lib/httpd/modules/mod_lbmethod_heartbeat.so\nLoadModule unixd_module lib/httpd/modules/mod_unixd.so\n#LoadModule heartbeat_module lib/httpd/modules/mod_heartbeat.so\n#LoadModule heartmonitor_module lib/httpd/modules/mod_heartmonitor.so\n#LoadModule dav_module lib/httpd/modules/mod_dav.so\nLoadModule status_module lib/httpd/modules/mod_status.so\nLoadModule autoindex_module lib/httpd/modules/mod_autoindex.so\n#LoadModule asis_module lib/httpd/modules/mod_asis.so\n#LoadModule info_module lib/httpd/modules/mod_info.so\n#LoadModule suexec_module lib/httpd/modules/mod_suexec.so\n&lt;IfModule !mpm_prefork_module&gt;\n\t#LoadModule cgid_module lib/httpd/modules/mod_cgid.so\n&lt;/IfModule&gt;\n&lt;IfModule mpm_prefork_module&gt;\n\t#LoadModule cgi_module lib/httpd/modules/mod_cgi.so\n&lt;/IfModule&gt;\n#LoadModule dav_fs_module lib/httpd/modules/mod_dav_fs.so\n#LoadModule dav_lock_module lib/httpd/modules/mod_dav_lock.so\n#LoadModule vhost_alias_module lib/httpd/modules/mod_vhost_alias.so\n#LoadModule negotiation_module lib/httpd/modules/mod_negotiation.so\nLoadModule dir_module lib/httpd/modules/mod_dir.so\n#LoadModule actions_module lib/httpd/modules/mod_actions.so\n#LoadModule speling_module lib/httpd/modules/mod_speling.so\n#LoadModule userdir_module lib/httpd/modules/mod_userdir.so\nLoadModule alias_module lib/httpd/modules/mod_alias.so\nLoadModule rewrite_module lib/httpd/modules/mod_rewrite.so\nLoadModule php7_module /usr/local/opt/php@7.1/lib/httpd/modules/libphp7.so\n&lt;FilesMatch \\.php$&gt;\n        SetHandler application/x-httpd-php\n&lt;/FilesMatch&gt;\n\n&lt;IfModule unixd_module&gt;\n#\n# If you wish httpd to run as a different user or group, you must run\n# httpd as root initially and it will switch.  \n#\n# User/Group: The name (or #number) of the user/group to run httpd as.\n# It is usually good practice to create a dedicated user and group for\n# running httpd, as with most system services.\n#\nUser _www\nGroup _www\n\n&lt;/IfModule&gt;\n\n# &#39;Main&#39; server configuration\n#\n# The directives in this section set up the values used by the &#39;main&#39;\n# server, which responds to any requests that aren&#39;t handled by a\n# &lt;VirtualHost&gt; definition.  These values also provide defaults for\n# any &lt;VirtualHost&gt; containers you may define later in the file.\n#\n# All of these directives may appear inside &lt;VirtualHost&gt; containers,\n# in which case these default settings will be overridden for the\n# virtual host being defined.\n#\n\n#\n# ServerAdmin: Your address, where problems with the server should be\n# e-mailed.  This address appears on some server-generated pages, such\n# as error documents.  e.g. admin@your-domain.com\n#\nServerAdmin you@example.com\n\n#\n# ServerName gives the name and port that the server uses to identify itself.\n# This can often be determined automatically, but we recommend you specify\n# it explicitly to prevent problems during startup.\n#\n# If your host doesn&#39;t have a registered DNS name, enter its IP address here.\n#\n#ServerName www.example.com:8080\n\n#\n# Deny access to the entirety of your server&#39;s filesystem. You must\n# explicitly permit access to web content directories in other \n# &lt;Directory&gt; blocks below.\n#\n&lt;Directory /&gt;\n    AllowOverride none\n    Require all denied\n&lt;/Directory&gt;\n\n#\n# Note that from this point forward you must specifically allow\n# particular features to be enabled - so if something&#39;s not working as\n# you might expect, make sure that you have specifically enabled it\n# below.\n#\n\n#\n# DocumentRoot: The directory out of which you will serve your\n# documents. By default, all requests are taken from this directory, but\n# symbolic links and aliases may be used to point to other locations.\n#\nDocumentRoot &quot;/Users/chris/enterprise/awesome-magento-app&quot;\n&lt;Directory &quot;/Users/chris/enterprise/awesome-magento-app&quot;&gt;\n    #\n    # Possible values for the Options directive are &quot;None&quot;, &quot;All&quot;,\n    # or any combination of:\n    #   Indexes Includes FollowSymLinks SymLinksifOwnerMatch ExecCGI MultiViews\n    #\n    # Note that &quot;MultiViews&quot; must be named *explicitly* --- &quot;Options All&quot;\n    # doesn&#39;t give it to you.\n    #\n    # The Options directive is both complicated and important.  Please see\n    # http://httpd.apache.org/docs/2.4/mod/core.html#options\n    # for more information.\n    #\n    Options Indexes FollowSymLinks\n\n    #\n    # AllowOverride controls what directives may be placed in .htaccess files.\n    # It can be &quot;All&quot;, &quot;None&quot;, or any combination of the keywords:\n    #   AllowOverride FileInfo AuthConfig Limit\n    #\n    AllowOverride All\n\n    #\n    # Controls who can get stuff from this server.\n    #\n    Require all granted\n&lt;/Directory&gt;\n\n#\n# DirectoryIndex: sets the file that Apache will serve if a directory\n# is requested.\n#\n&lt;IfModule dir_module&gt;\n    DirectoryIndex index.php index.html\n&lt;/IfModule&gt;\n\n#\n# The following lines prevent .htaccess and .htpasswd files from being \n# viewed by Web clients. \n#\n&lt;Files &quot;.ht*&quot;&gt;\n    Require all denied\n&lt;/Files&gt;\n\n#\n# ErrorLog: The location of the error log file.\n# If you do not specify an ErrorLog directive within a &lt;VirtualHost&gt;\n# container, error messages relating to that virtual host will be\n# logged here.  If you *do* define an error logfile for a &lt;VirtualHost&gt;\n# container, that host&#39;s errors will be logged there and not here.\n#\nErrorLog &quot;/usr/local/var/log/httpd/error_log&quot;\n\n#\n# LogLevel: Control the number of messages logged to the error_log.\n# Possible values include: debug, info, notice, warn, error, crit,\n# alert, emerg.\n#\nLogLevel warn\n\n&lt;IfModule log_config_module&gt;\n    #\n    # The following directives define some format nicknames for use with\n    # a CustomLog directive (see below).\n    #\n    LogFormat &quot;%h %l %u %t \\&quot;%r\\&quot; %&gt;s %b \\&quot;%{Referer}i\\&quot; \\&quot;%{User-Agent}i\\&quot;&quot; combined\n    LogFormat &quot;%h %l %u %t \\&quot;%r\\&quot; %&gt;s %b&quot; common\n\n    &lt;IfModule logio_module&gt;\n      # You need to enable mod_logio.c to use %I and %O\n      LogFormat &quot;%h %l %u %t \\&quot;%r\\&quot; %&gt;s %b \\&quot;%{Referer}i\\&quot; \\&quot;%{User-Agent}i\\&quot; %I %O&quot; combinedio\n    &lt;/IfModule&gt;\n\n    #\n    # The location and format of the access logfile (Common Logfile Format).\n    # If you do not define any access logfiles within a &lt;VirtualHost&gt;\n    # container, they will be logged here.  Contrariwise, if you *do*\n    # define per-&lt;VirtualHost&gt; access logfiles, transactions will be\n    # logged therein and *not* in this file.\n    #\n    CustomLog &quot;/usr/local/var/log/httpd/access_log&quot; common\n\n    #\n    # If you prefer a logfile with access, agent, and referer information\n    # (Combined Logfile Format) you can use the following directive.\n    #\n    #CustomLog &quot;/usr/local/var/log/httpd/access_log&quot; combined\n&lt;/IfModule&gt;\n\n&lt;IfModule alias_module&gt;\n    #\n    # Redirect: Allows you to tell clients about documents that used to \n    # exist in your server&#39;s namespace, but do not anymore. The client \n    # will make a new request for the document at its new location.\n    # Example:\n    # Redirect permanent /foo http://www.example.com/bar\n\n    #\n    # Alias: Maps web paths into filesystem paths and is used to\n    # access content that does not live under the DocumentRoot.\n    # Example:\n    # Alias /webpath /full/filesystem/path\n    #\n    # If you include a trailing / on /webpath then the server will\n    # require it to be present in the URL.  You will also likely\n    # need to provide a &lt;Directory&gt; section to allow access to\n    # the filesystem path.\n\n    #\n    # ScriptAlias: This controls which directories contain server scripts. \n    # ScriptAliases are essentially the same as Aliases, except that\n    # documents in the target directory are treated as applications and\n    # run by the server when requested rather than as documents sent to the\n    # client.  The same rules about trailing &quot;/&quot; apply to ScriptAlias\n    # directives as to Alias.\n    #\n    ScriptAlias /cgi-bin/ &quot;/usr/local/var/www/cgi-bin/&quot;\n\n&lt;/IfModule&gt;\n\n&lt;IfModule cgid_module&gt;\n    #\n    # ScriptSock: On threaded servers, designate the path to the UNIX\n    # socket used to communicate with the CGI daemon of mod_cgid.\n    #\n    #Scriptsock cgisock\n&lt;/IfModule&gt;\n\n#\n# &quot;/usr/local/var/www/cgi-bin&quot; should be changed to whatever your ScriptAliased\n# CGI directory exists, if you have that configured.\n#\n&lt;Directory &quot;/usr/local/var/www/cgi-bin&quot;&gt;\n    AllowOverride None\n    Options None\n    Require all granted\n&lt;/Directory&gt;\n\n&lt;IfModule headers_module&gt;\n    #\n    # Avoid passing HTTP_PROXY environment to CGI&#39;s on this or any proxied\n    # backend servers which have lingering &quot;httpoxy&quot; defects.\n    # &#39;Proxy&#39; request header is undefined by the IETF, not listed by IANA\n    #\n    RequestHeader unset Proxy early\n&lt;/IfModule&gt;\n\n&lt;IfModule mime_module&gt;\n    #\n    # TypesConfig points to the file containing the list of mappings from\n    # filename extension to MIME-type.\n    #\n    TypesConfig /usr/local/etc/httpd/mime.types\n\n    #\n    # AddType allows you to add to or override the MIME configuration\n    # file specified in TypesConfig for specific file types.\n    #\n    #AddType application/x-gzip .tgz\n    #\n    # AddEncoding allows you to have certain browsers uncompress\n    # information on the fly. Note: Not all browsers support this.\n    #\n    #AddEncoding x-compress .Z\n    #AddEncoding x-gzip .gz .tgz\n    #\n    # If the AddEncoding directives above are commented-out, then you\n    # probably should define those extensions to indicate media types:\n    #\n    AddType application/x-compress .Z\n    AddType application/x-gzip .gz .tgz\n\n    #\n    # AddHandler allows you to map certain file extensions to &quot;handlers&quot;:\n    # actions unrelated to filetype. These can be either built into the server\n    # or added with the Action directive (see below)\n    #\n    # To use CGI scripts outside of ScriptAliased directories:\n    # (You will also need to add &quot;ExecCGI&quot; to the &quot;Options&quot; directive.)\n    #\n    #AddHandler cgi-script .cgi\n\n    # For type maps (negotiated resources):\n    #AddHandler type-map var\n\n    #\n    # Filters allow you to process content before it is sent to the client.\n    #\n    # To parse .shtml files for server-side includes (SSI):\n    # (You will also need to add &quot;Includes&quot; to the &quot;Options&quot; directive.)\n    #\n    #AddType text/html .shtml\n    #AddOutputFilter INCLUDES .shtml\n&lt;/IfModule&gt;\n\n#\n# The mod_mime_magic module allows the server to use various hints from the\n# contents of the file itself to determine its type.  The MIMEMagicFile\n# directive tells the module where the hint definitions are located.\n#\n#MIMEMagicFile /usr/local/etc/httpd/magic\n\n#\n# Customizable error responses come in three flavors:\n# 1) plain text 2) local redirects 3) external redirects\n#\n# Some examples:\n#ErrorDocument 500 &quot;The server made a boo boo.&quot;\n#ErrorDocument 404 /missing.html\n#ErrorDocument 404 &quot;/cgi-bin/missing_handler.pl&quot;\n#ErrorDocument 402 http://www.example.com/subscription_info.html\n#\n\n#\n# MaxRanges: Maximum number of Ranges in a request before\n# returning the entire resource, or one of the special\n# values &#39;default&#39;, &#39;none&#39; or &#39;unlimited&#39;.\n# Default setting is to accept 200 Ranges.\n#MaxRanges unlimited\n\n#\n# EnableMMAP and EnableSendfile: On systems that support it, \n# memory-mapping or the sendfile syscall may be used to deliver\n# files.  This usually improves server performance, but must\n# be turned off when serving from networked-mounted \n# filesystems or if support for these functions is otherwise\n# broken on your system.\n# Defaults: EnableMMAP On, EnableSendfile Off\n#\n#EnableMMAP off\n#EnableSendfile on\n\n# Supplemental configuration\n#\n# The configuration files in the /usr/local/etc/httpd/extra/ directory can be \n# included to add extra features or to modify the default configuration of \n# the server, or you may simply copy their contents here and change as \n# necessary.\n\n# Server-pool management (MPM specific)\n#Include /usr/local/etc/httpd/extra/httpd-mpm.conf\n\n# Multi-language error messages\n#Include /usr/local/etc/httpd/extra/httpd-multilang-errordoc.conf\n\n# Fancy directory listings\n#Include /usr/local/etc/httpd/extra/httpd-autoindex.conf\n\n# Language settings\n#Include /usr/local/etc/httpd/extra/httpd-languages.conf\n\n# User home directories\n#Include /usr/local/etc/httpd/extra/httpd-userdir.conf\n\n# Real-time info on requests and configuration\n#Include /usr/local/etc/httpd/extra/httpd-info.conf\n\n# Virtual hosts\n#Include /usr/local/etc/httpd/extra/httpd-vhosts.conf\n\n# Local access to the Apache HTTP Server Manual\n#Include /usr/local/etc/httpd/extra/httpd-manual.conf\n\n# Distributed authoring and versioning (WebDAV)\n#Include /usr/local/etc/httpd/extra/httpd-dav.conf\n\n# Various default settings\n#Include /usr/local/etc/httpd/extra/httpd-default.conf\n\n# Configure mod_proxy_html to understand HTML4/XHTML1\n&lt;IfModule proxy_html_module&gt;\nInclude /usr/local/etc/httpd/extra/proxy-html.conf\n&lt;/IfModule&gt;\n\n# Secure (SSL/TLS) connections\n#Include /usr/local/etc/httpd/extra/httpd-ssl.conf\n#\n# Note: The following must must be present to support\n#       starting without SSL on platforms with no /dev/random equivalent\n#       but a statically compiled-in mod_ssl.\n#\n&lt;IfModule ssl_module&gt;\nSSLRandomSeed startup builtin\nSSLRandomSeed connect builtin\n&lt;/IfModule&gt;</code></pre>\n      </div>\n<p>I hope this was useful to those getting started with an existing Magento 2 project on macOS!</p>\n<p>Cheers! 🍺</p>\n<p>Chris</p>","frontmatter":{"title":"Run an Existing Magento 2 App with Homebrew Apache on MacOS in 2018 / 2019","date":"November 19, 2018","draft":false,"starID":32,"postType":"dev"}}},"pageContext":{"slug":"/getting-started-in-2018-with-magento-apache-and-php/","prev":{"fields":{"slug":"/jump-from-SAPUI5-to-transactions-in-web-gui-with-batch-input/"},"frontmatter":{"date":"25 January, 2018","title":"Jump from SAPUI5 Apps to Transactions in Web GUI with Batch Input","draft":true,"starID":33,"postType":"dev"}},"next":{"fields":{"slug":"/how-to-be-an-american-living-in-austria-and-working-in-liechtenstein/"},"frontmatter":{"date":"17 January, 2018","title":"How to be an American living in Austria and working in Liechtenstein","draft":false,"starID":12,"postType":"misc","link":"https://chrisfrew.in/how-to-be-an-american-living-in-austria-and-working-in-liechtenstein/","relativeLink":"/how-to-be-an-american-living-in-austria-and-working-in-liechtenstein/"}}}}